2023-06-20 21:15:30.794 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-20 21:15:31.216 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-20 21:15:31.218 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-20 21:15:31.563 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-20 21:15:31.600 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-20 21:15:31.600 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-20 21:15:31.982 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-20 21:18:23.646 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-20 21:18:24.034 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-20 21:18:24.036 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-20 21:18:24.348 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-20 21:18:24.372 +01:00 [DBG] Creating DbConnection.
2023-06-20 21:18:24.584 +01:00 [DBG] Created DbConnection. (209ms).
2023-06-20 21:18:24.588 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-20 21:18:24.593 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.130 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.135 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.141 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-06-20 21:18:25.143 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2023-06-20 21:18:25.149 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:25.172 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:25.174 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.182 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (4ms).
2023-06-20 21:18:25.185 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-20 21:18:25.185 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-20 21:18:25.185 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-20 21:18:25.185 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.186 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.187 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:25.200 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:25.200 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.201 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-20 21:18:25.201 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.202 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.202 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.202 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.202 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.202 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:25.203 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:25.203 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.203 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-20 21:18:25.203 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-20 21:18:25.204 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-20 21:18:25.204 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-20 21:18:25.204 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.204 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.204 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:25.204 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:25.204 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.205 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-20 21:18:25.217 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-20 21:18:25.217 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-20 21:18:25.217 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-20 21:18:25.217 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.218 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.218 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-20 21:18:25.222 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-20 21:18:25.224 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-20 21:18:25.225 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-20 21:18:25.225 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.225 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-20 21:18:25.235 +01:00 [INF] Applying migration '20230620201531_AddSourceRefToSource'.
2023-06-20 21:18:25.329 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.330 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.331 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-20 21:18:25.339 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-20 21:18:25.340 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.340 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.341 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-20 21:18:25.342 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 1;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.347 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 1;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.348 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.348 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.348 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.348 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 2;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 2;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.349 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.349 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.349 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.349 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 3;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.349 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 3;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.350 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.350 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.350 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.350 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 4;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.350 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 4;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.350 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.350 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.350 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.350 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 5;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.351 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Leads]
WHERE [LeadId] = 5;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.351 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.351 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.351 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.351 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Sources]
WHERE [SourceId] = 1;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.356 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Sources]
WHERE [SourceId] = 1;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.356 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.356 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.356 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.356 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Sources]
WHERE [SourceId] = 2;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.357 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Sources]
WHERE [SourceId] = 2;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.357 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.357 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.357 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.357 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Sources]
WHERE [SourceId] = 3;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.357 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Sources]
WHERE [SourceId] = 3;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.357 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.357 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.357 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.358 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Suppliers]
WHERE [SupplierId] = 1;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.369 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Suppliers]
WHERE [SupplierId] = 1;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.369 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.369 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.370 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.370 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Suppliers]
WHERE [SupplierId] = 2;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.372 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Suppliers]
WHERE [SupplierId] = 2;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.372 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.372 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.372 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.372 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Suppliers]
WHERE [SupplierId] = 3;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Suppliers]
WHERE [SupplierId] = 3;
SELECT @@ROWCOUNT;
2023-06-20 21:18:25.375 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.375 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.375 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.375 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Sources] ADD [SourceRef] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-06-20 21:18:25.402 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Sources] ADD [SourceRef] uniqueidentifier NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-06-20 21:18:25.402 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:25.402 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.402 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:25.402 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230620201531_AddSourceRefToSource', N'7.0.1');
2023-06-20 21:18:25.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230620201531_AddSourceRefToSource', N'7.0.1');
2023-06-20 21:18:25.406 +01:00 [DBG] Committing transaction.
2023-06-20 21:18:25.409 +01:00 [DBG] Committed transaction.
2023-06-20 21:18:25.410 +01:00 [DBG] Disposing transaction.
2023-06-20 21:18:25.411 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.411 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-20 21:18:25.412 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-20 21:18:25.414 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:25.414 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-20 21:18:45.272 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-20 21:18:45.465 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-20 21:18:45.948 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-20 21:18:45.951 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-20 21:18:46.298 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-20 21:18:46.310 +01:00 [DBG] Creating DbConnection.
2023-06-20 21:18:46.365 +01:00 [DBG] Created DbConnection. (52ms).
2023-06-20 21:18:46.370 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-20 21:18:46.385 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.648 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.657 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:46.665 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-06-20 21:18:46.668 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-06-20 21:18:46.676 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:46.715 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:46.722 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.732 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (6ms).
2023-06-20 21:18:46.740 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-20 21:18:46.741 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-20 21:18:46.743 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-20 21:18:46.744 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.746 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.748 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:46.773 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:46.776 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.778 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:46.781 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.783 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.785 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:46.785 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:46.787 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-20 21:18:46.788 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:46.791 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:46.793 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.794 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:46.796 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-20 21:18:46.797 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-20 21:18:46.798 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-20 21:18:46.799 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.801 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.802 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:46.804 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-20 21:18:46.806 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.807 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:46.823 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-20 21:18:46.825 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-20 21:18:46.827 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-20 21:18:46.828 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.829 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.831 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-20 21:18:46.836 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-20 21:18:46.848 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-20 21:18:46.852 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 10ms reading results.
2023-06-20 21:18:46.854 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.855 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:46.867 +01:00 [INF] No migrations were applied. The database is already up to date.
2023-06-20 21:18:46.877 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.880 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.882 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-20 21:18:46.883 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-20 21:18:46.885 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-20 21:18:46.887 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:46.891 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-20 21:18:46.894 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.895 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:46.898 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-20 21:18:46.899 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-20 21:18:46.901 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-20 21:18:46.903 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.904 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.906 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-20 21:18:46.924 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-20 21:18:46.927 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:46.928 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:47.116 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-06-20 21:18:47.436 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-20 21:18:47.486 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-20 21:18:47.487 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-20 21:18:47.493 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-06-20 21:18:47.495 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:47.497 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:47.507 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-20 21:18:47.592 +01:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-20 21:18:47.664 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:18:47.747 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-20 21:18:47.749 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 153ms reading results.
2023-06-20 21:18:47.751 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:18:47.752 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:18:47.758 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-20 21:18:47.763 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-20 21:18:47.801 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-20 21:18:47.810 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 0 entities written to the database.
2023-06-20 21:18:47.815 +01:00 [DBG] Hosting starting
2023-06-20 21:18:47.828 +01:00 [INF] User profile is available. Using 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-20 21:18:47.837 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-0ab67fba-b2a8-4a49-bb45-f6301329f8a6.xml'.
2023-06-20 21:18:47.858 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-566a1830-4c02-4feb-b47e-cd983ddb58ec.xml'.
2023-06-20 21:18:47.873 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-68d7b5e6-474a-475f-9c5e-5b01cdc5d785.xml'.
2023-06-20 21:18:47.887 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-6d7a1708-86b1-498a-a204-b3d7f14e23c9.xml'.
2023-06-20 21:18:47.901 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-a18f0a53-40a2-4359-b5c6-357e7054b5da.xml'.
2023-06-20 21:18:47.914 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e66d40f7-11ec-4d3d-83cf-20322c5558ca.xml'.
2023-06-20 21:18:47.932 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e77340ef-0686-4d9d-8989-5f4290804443.xml'.
2023-06-20 21:18:47.946 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-f886f59b-0f0f-4c22-8697-a9c3be207b84.xml'.
2023-06-20 21:18:47.967 +01:00 [DBG] Found key {0ab67fba-b2a8-4a49-bb45-f6301329f8a6}.
2023-06-20 21:18:47.977 +01:00 [DBG] Found key {566a1830-4c02-4feb-b47e-cd983ddb58ec}.
2023-06-20 21:18:47.979 +01:00 [DBG] Found key {68d7b5e6-474a-475f-9c5e-5b01cdc5d785}.
2023-06-20 21:18:47.980 +01:00 [DBG] Found key {6d7a1708-86b1-498a-a204-b3d7f14e23c9}.
2023-06-20 21:18:47.981 +01:00 [DBG] Found key {a18f0a53-40a2-4359-b5c6-357e7054b5da}.
2023-06-20 21:18:47.982 +01:00 [DBG] Found key {e66d40f7-11ec-4d3d-83cf-20322c5558ca}.
2023-06-20 21:18:47.982 +01:00 [DBG] Found key {e77340ef-0686-4d9d-8989-5f4290804443}.
2023-06-20 21:18:47.983 +01:00 [DBG] Found key {f886f59b-0f0f-4c22-8697-a9c3be207b84}.
2023-06-20 21:18:47.994 +01:00 [DBG] Considering key {f886f59b-0f0f-4c22-8697-a9c3be207b84} with expiration date 2023-07-22 12:25:16Z as default key.
2023-06-20 21:18:47.998 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-20 21:18:47.999 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-06-20 21:18:48.002 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-20 21:18:48.004 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-06-20 21:18:48.006 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-06-20 21:18:48.009 +01:00 [DBG] Using key {f886f59b-0f0f-4c22-8697-a9c3be207b84} as the default key.
2023-06-20 21:18:48.012 +01:00 [DBG] Key ring with default key {f886f59b-0f0f-4c22-8697-a9c3be207b84} was loaded during application startup.
2023-06-20 21:18:48.131 +01:00 [INF] Now listening on: https://localhost:7043
2023-06-20 21:18:48.133 +01:00 [INF] Now listening on: http://localhost:5043
2023-06-20 21:18:48.134 +01:00 [DBG] Loaded hosting startup assembly LeadManager.API
2023-06-20 21:18:48.135 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-20 21:18:48.136 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-20 21:18:48.138 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-20 21:18:48.139 +01:00 [INF] Hosting environment: Development
2023-06-20 21:18:48.140 +01:00 [INF] Content root path: E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API
2023-06-20 21:18:48.141 +01:00 [DBG] Hosting started
2023-06-20 21:18:48.358 +01:00 [DBG] Connection id "0HMRHPE75ILLS" accepted.
2023-06-20 21:18:48.360 +01:00 [DBG] Connection id "0HMRHPE75ILLS" started.
2023-06-20 21:18:48.444 +01:00 [DBG] Connection id "0HMRHPE75ILLT" accepted.
2023-06-20 21:18:48.446 +01:00 [DBG] Connection id "0HMRHPE75ILLT" started.
2023-06-20 21:18:49.550 +01:00 [DBG] Connection id "0HMRHPE75ILLU" accepted.
2023-06-20 21:18:49.570 +01:00 [DBG] Connection id "0HMRHPE75ILLU" started.
2023-06-20 21:18:49.674 +01:00 [DBG] Connection id "0HMRHPE75ILLV" accepted.
2023-06-20 21:18:49.733 +01:00 [DBG] Connection id "0HMRHPE75ILLV" started.
2023-06-20 21:18:49.740 +01:00 [DBG] Connection 0HMRHPE75ILLU established using the following protocol: "Tls12"
2023-06-20 21:18:49.773 +01:00 [DBG] Connection 0HMRHPE75ILLV established using the following protocol: "Tls12"
2023-06-20 21:18:49.891 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger - -
2023-06-20 21:18:49.947 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-20 21:18:49.982 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-20 21:18:50.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger - - - 301 0 - 162.0053ms
2023-06-20 21:18:50.081 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/index.html - -
2023-06-20 21:18:50.086 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-20 21:18:50.336 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-20 21:18:50.350 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-20 21:18:50.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/index.html - - - 200 - text/html;charset=utf-8 272.8807ms
2023-06-20 21:18:50.363 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - -
2023-06-20 21:18:50.375 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 11.9773ms
2023-06-20 21:18:50.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_vs/browserLink - -
2023-06-20 21:18:50.505 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 126.5912ms
2023-06-20 21:18:50.614 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - -
2023-06-20 21:18:50.619 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-20 21:18:50.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 228.0918ms
2023-06-20 21:18:58.380 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-06-20 21:18:58.384 +01:00 [DBG] Connection id "0HMRHPE75ILLS" stopped.
2023-06-20 21:18:58.387 +01:00 [DBG] Connection id "0HMRHPE75ILLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-20 21:18:58.464 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-06-20 21:18:58.466 +01:00 [DBG] Connection id "0HMRHPE75ILLT" stopped.
2023-06-20 21:18:58.468 +01:00 [DBG] Connection id "0HMRHPE75ILLT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-20 21:19:49.912 +01:00 [DBG] Connection id "0HMRHPE75ILLV" received FIN.
2023-06-20 21:19:49.921 +01:00 [DBG] Connection id "0HMRHPE75ILLV" is closed. The last processed stream ID was 0.
2023-06-20 21:19:49.925 +01:00 [DBG] Connection id "0HMRHPE75ILLV" sending FIN because: "The client closed the connection."
2023-06-20 21:19:49.928 +01:00 [DBG] The connection queue processing loop for 0HMRHPE75ILLV completed.
2023-06-20 21:19:49.931 +01:00 [DBG] Connection id "0HMRHPE75ILLV" stopped.
2023-06-20 21:19:50.543 +01:00 [DBG] Connection id "0HMRHPE75ILLU" received FIN.
2023-06-20 21:19:50.545 +01:00 [DBG] Connection id "0HMRHPE75ILLU" is closed. The last processed stream ID was 9.
2023-06-20 21:19:50.545 +01:00 [DBG] Connection id "0HMRHPE75ILLU" sending FIN because: "The client closed the connection."
2023-06-20 21:19:50.548 +01:00 [DBG] The connection queue processing loop for 0HMRHPE75ILLU completed.
2023-06-20 21:19:50.549 +01:00 [DBG] Connection id "0HMRHPE75ILLU" stopped.
2023-06-20 21:20:20.495 +01:00 [DBG] Connection id "0HMRHPE75ILM0" received FIN.
2023-06-20 21:20:20.505 +01:00 [DBG] Connection id "0HMRHPE75ILM0" accepted.
2023-06-20 21:20:20.506 +01:00 [DBG] Connection id "0HMRHPE75ILM0" started.
2023-06-20 21:20:20.506 +01:00 [DBG] Connection id "0HMRHPE75ILM1" accepted.
2023-06-20 21:20:20.513 +01:00 [DBG] Connection id "0HMRHPE75ILM1" started.
2023-06-20 21:20:20.515 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-20 21:20:20.529 +01:00 [DBG] Connection 0HMRHPE75ILM1 established using the following protocol: "Tls12"
2023-06-20 21:20:20.549 +01:00 [DBG] Connection id "0HMRHPE75ILM0" stopped.
2023-06-20 21:20:20.552 +01:00 [DBG] Connection id "0HMRHPE75ILM0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-20 21:20:20.562 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83
2023-06-20 21:20:20.564 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-20 21:20:20.566 +01:00 [DBG] POST requests are not supported
2023-06-20 21:20:20.600 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/token'
2023-06-20 21:20:20.602 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)' with route pattern 'api/Users/token' is valid for the request path '/api/users/token'
2023-06-20 21:20:20.605 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-20 21:20:20.610 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-20 21:20:20.633 +01:00 [INF] Route matched with {action = "CreateToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(LeadManager.Core.ViewModels.UserDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-20 21:20:20.638 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-20 21:20:20.639 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-20 21:20:20.641 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-20 21:20:20.643 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-20 21:20:20.644 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-20 21:20:20.647 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-20 21:20:20.849 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-20 21:20:20.856 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-20 21:20:20.859 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' using the name '' in request data ...
2023-06-20 21:20:20.862 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-20 21:20:20.864 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-20 21:20:20.885 +01:00 [DBG] Connection id "0HMRHPE75ILM1", Request id "0HMRHPE75ILM1:00000001": started reading request body.
2023-06-20 21:20:20.888 +01:00 [DBG] Connection id "0HMRHPE75ILM1", Request id "0HMRHPE75ILM1:00000001": done reading request body.
2023-06-20 21:20:20.973 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-20 21:20:20.975 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-20 21:20:20.976 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-20 21:20:20.990 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-20 21:20:21.201 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-20 21:20:21.208 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-06-20 21:20:21.216 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-20 21:20:21.225 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-20 21:20:21.227 +01:00 [DBG] Creating DbConnection.
2023-06-20 21:20:21.228 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-20 21:20:21.229 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-20 21:20:21.230 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-20 21:20:21.231 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:21.232 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:21.234 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-20 21:20:21.239 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-20 21:20:21.244 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:20:21.246 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-20 21:20:21.247 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 4ms reading results.
2023-06-20 21:20:21.250 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:21.251 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:20:21.755 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-20 21:20:21.760 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-20 21:20:21.760 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-20 21:20:21.761 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-20 21:20:21.763 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-20 21:20:21.764 +01:00 [INF] Executing CreatedResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-20 21:20:21.813 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API) in 1164.3823ms
2023-06-20 21:20:21.815 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-20 21:20:21.817 +01:00 [DBG] Connection id "0HMRHPE75ILM1" completed keep alive response.
2023-06-20 21:20:21.820 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-20 21:20:21.825 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:21.828 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-06-20 21:20:21.829 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83 - 201 360 application/json;+charset=utf-8 1266.9235ms
2023-06-20 21:20:45.621 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-20 21:20:45.623 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-20 21:20:45.624 +01:00 [DBG] POST requests are not supported
2023-06-20 21:20:45.627 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-20 21:20:45.628 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-20 21:20:45.630 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-20 21:20:45.631 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-20 21:20:45.637 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-20 21:20:45.639 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-20 21:20:45.640 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-20 21:20:45.642 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-20 21:20:45.643 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-20 21:20:45.644 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-20 21:20:45.646 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-20 21:20:45.656 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-20 21:20:45.659 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-20 21:20:45.660 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-20 21:20:45.661 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-20 21:20:45.662 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-20 21:20:45.664 +01:00 [DBG] Connection id "0HMRHPE75ILM1", Request id "0HMRHPE75ILM1:00000002": started reading request body.
2023-06-20 21:20:45.665 +01:00 [DBG] Connection id "0HMRHPE75ILM1", Request id "0HMRHPE75ILM1:00000002": done reading request body.
2023-06-20 21:20:45.669 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-20 21:20:45.670 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-20 21:20:45.671 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-20 21:20:45.673 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-20 21:20:49.692 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-20 21:20:49.715 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:20:49.744 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:20:49.747 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-20 21:20:49.749 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-20 21:20:49.755 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-20 21:20:49.815 +01:00 [DBG] Creating DbConnection.
2023-06-20 21:20:49.816 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-20 21:20:49.818 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:49.819 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:49.823 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-20 21:20:49.823 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-20 21:20:49.825 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-20 21:20:49.826 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-20 21:20:49.841 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-20 21:20:49.856 +01:00 [DBG] The foreign key property 'Source.SourceId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-20 21:20:49.864 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-20 21:20:49.866 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 21ms reading results.
2023-06-20 21:20:49.869 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:49.870 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:20:49.880 +01:00 [DBG] An entity of type 'Source' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:20:49.884 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-20 21:20:49.891 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-20 21:20:49.894 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-20 21:20:49.895 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-20 21:20:49.896 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-20 21:20:49.897 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-20 21:20:49.898 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'LeadManager.Core.ViewModels.SourceDto'.
2023-06-20 21:20:49.916 +01:00 [DBG] Found the endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] for address GetSource(id=[2006])
2023-06-20 21:20:49.926 +01:00 [DBG] Successfully processed template api/sources/{id} for LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) resulting in /api/sources/2006 and 
2023-06-20 21:20:49.929 +01:00 [DBG] Link generation succeeded for endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] with result /api/sources/2006
2023-06-20 21:20:49.935 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 4288.8843ms
2023-06-20 21:20:49.937 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-20 21:20:49.938 +01:00 [DBG] Connection id "0HMRHPE75ILM1" completed keep alive response.
2023-06-20 21:20:49.939 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-20 21:20:49.940 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-20 21:20:49.941 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-20 21:20:49.942 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 201 120 application/json;+charset=utf-8 4321.5193ms
2023-06-20 21:23:07.325 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-20 21:23:07.326 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-20 21:23:07.327 +01:00 [DBG] POST requests are not supported
2023-06-20 21:23:07.328 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-20 21:23:07.329 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-20 21:23:07.331 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-20 21:23:07.332 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-20 21:23:07.333 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-20 21:23:07.335 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-20 21:23:07.336 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-20 21:23:07.337 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-20 21:23:07.339 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-20 21:23:07.340 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-20 21:23:07.342 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-20 21:23:07.344 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-20 21:23:07.350 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-20 21:23:07.351 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-20 21:23:07.352 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-20 21:23:07.353 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-20 21:23:07.355 +01:00 [DBG] Connection id "0HMRHPE75ILM1", Request id "0HMRHPE75ILM1:00000003": started reading request body.
2023-06-20 21:23:07.356 +01:00 [DBG] Connection id "0HMRHPE75ILM1", Request id "0HMRHPE75ILM1:00000003": done reading request body.
2023-06-20 21:23:07.357 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-20 21:23:07.358 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-20 21:23:07.359 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-20 21:23:07.361 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-20 21:23:07.363 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-20 21:23:07.366 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:23:07.368 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:23:07.370 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-20 21:23:07.370 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-20 21:23:07.371 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-20 21:23:07.375 +01:00 [DBG] Creating DbConnection.
2023-06-20 21:23:07.375 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-20 21:23:07.377 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-20 21:23:07.379 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-20 21:23:07.381 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-20 21:23:07.382 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-20 21:23:07.383 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-20 21:23:07.385 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-20 21:23:07.390 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-20 21:23:07.393 +01:00 [DBG] The foreign key property 'Source.SourceId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-20 21:23:07.394 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-20 21:23:07.395 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-20 21:23:07.396 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-20 21:23:07.398 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-20 21:23:07.400 +01:00 [DBG] An entity of type 'Source' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-20 21:23:07.402 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-20 21:23:07.404 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-20 21:23:07.406 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-20 21:23:07.407 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-20 21:23:07.408 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-20 21:23:07.409 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-20 21:23:07.411 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'LeadManager.Core.ViewModels.SourceDto'.
2023-06-20 21:23:07.412 +01:00 [DBG] Found the endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] for address GetSource(id=[2007])
2023-06-20 21:23:07.414 +01:00 [DBG] Successfully processed template api/sources/{id} for LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) resulting in /api/sources/2007 and 
2023-06-20 21:23:07.415 +01:00 [DBG] Link generation succeeded for endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] with result /api/sources/2007
2023-06-20 21:23:07.418 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 76.1716ms
2023-06-20 21:23:07.420 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-20 21:23:07.420 +01:00 [DBG] Connection id "0HMRHPE75ILM1" completed keep alive response.
2023-06-20 21:23:07.421 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-20 21:23:07.422 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-20 21:23:07.424 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-20 21:23:07.425 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 201 120 application/json;+charset=utf-8 129.2746ms
2023-06-24 14:01:47.503 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:01:47.920 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:01:47.922 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:01:48.253 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:01:48.289 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:01:48.289 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:01:48.553 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:05:16.665 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:05:17.092 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:05:17.094 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:05:17.454 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:05:17.469 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:05:17.718 +01:00 [DBG] Created DbConnection. (246ms).
2023-06-24 14:05:17.722 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:05:17.730 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:18.301 +01:00 [DBG] An error occurred using the connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:18.302 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:18.302 +01:00 [DBG] An error occurred using the connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:18.359 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:05:18.359 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:05:18.463 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:05:18.464 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:05:18.464 +01:00 [DBG] Opening connection to database 'master' on server '.'.
2023-06-24 14:05:18.478 +01:00 [DBG] Opened connection to database 'master' on server '.'.
2023-06-24 14:05:18.483 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:18.490 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-06-24 14:05:18.493 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-06-24 14:05:18.499 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [LeadManager];
2023-06-24 14:05:18.919 +01:00 [INF] Executed DbCommand (420ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [LeadManager];
2023-06-24 14:05:18.920 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:18.921 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:18.921 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:18.921 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [LeadManager] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-06-24 14:05:19.020 +01:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [LeadManager] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-06-24 14:05:19.022 +01:00 [DBG] Closing connection to database 'master' on server '.'.
2023-06-24 14:05:19.031 +01:00 [DBG] Closed connection to database 'master' on server '.' (5ms).
2023-06-24 14:05:19.033 +01:00 [DBG] Disposing connection to database 'master' on server '.'.
2023-06-24 14:05:19.034 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-24 14:05:19.035 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.040 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.040 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.040 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.040 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.041 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:05:19.049 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:05:19.049 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.049 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:05:19.113 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.113 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.114 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.114 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.114 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.114 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-06-24 14:05:19.126 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-06-24 14:05:19.127 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.127 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:05:19.127 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.128 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.128 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.128 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.128 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.128 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:05:19.128 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:05:19.128 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.129 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:05:19.132 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:05:19.132 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:05:19.132 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:05:19.132 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.132 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.133 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:05:19.149 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:05:19.150 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.150 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:05:19.152 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:05:19.152 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:05:19.152 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:05:19.152 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.152 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.153 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:05:19.155 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:05:19.157 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:05:19.158 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:05:19.159 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.159 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:05:19.170 +01:00 [INF] Applying migration '20230624130148_initalMigration'.
2023-06-24 14:05:19.256 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.256 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:19.257 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-24 14:05:19.263 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-24 14:05:19.264 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.264 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.265 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:05:19.265 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-06-24 14:05:19.268 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-06-24 14:05:19.268 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.268 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.268 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.268 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-06-24 14:05:19.270 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-06-24 14:05:19.270 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.270 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.270 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.270 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sources] (
    [SourceId] int NOT NULL IDENTITY,
    [SourceRef] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Sources] PRIMARY KEY ([SourceId])
);
2023-06-24 14:05:19.273 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sources] (
    [SourceId] int NOT NULL IDENTITY,
    [SourceRef] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Sources] PRIMARY KEY ([SourceId])
);
2023-06-24 14:05:19.273 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.273 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.273 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.273 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Suppliers] (
    [SupplierId] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Suppliers] PRIMARY KEY ([SupplierId])
);
2023-06-24 14:05:19.275 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Suppliers] (
    [SupplierId] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Suppliers] PRIMARY KEY ([SupplierId])
);
2023-06-24 14:05:19.275 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.275 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.275 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.275 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.278 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.278 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.278 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.278 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.278 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.280 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.280 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.280 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.280 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.280 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.376 +01:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.376 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.376 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.376 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.376 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.379 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.379 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.379 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.379 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.379 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.381 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:05:19.381 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:19.382 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.382 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:19.382 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Leads] (
    [LeadId] int NOT NULL IDENTITY,
    [SourceId] int NOT NULL,
    [SupplierId] int NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Leads] PRIMARY KEY ([LeadId]),
    CONSTRAINT [FK_Leads_Sources_SourceId] FOREIGN KEY ([SourceId]) REFERENCES [Sources] ([SourceId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Leads_Suppliers_SupplierId] FOREIGN KEY ([SupplierId]) REFERENCES [Suppliers] ([SupplierId]) ON DELETE CASCADE
);
2023-06-24 14:05:20.864 +01:00 [INF] Executed DbCommand (1,482ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Leads] (
    [LeadId] int NOT NULL IDENTITY,
    [SourceId] int NOT NULL,
    [SupplierId] int NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Leads] PRIMARY KEY ([LeadId]),
    CONSTRAINT [FK_Leads_Sources_SourceId] FOREIGN KEY ([SourceId]) REFERENCES [Sources] ([SourceId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Leads_Suppliers_SupplierId] FOREIGN KEY ([SupplierId]) REFERENCES [Suppliers] ([SupplierId]) ON DELETE CASCADE
);
2023-06-24 14:05:20.864 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.864 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.864 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.864 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-06-24 14:05:20.867 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-06-24 14:05:20.868 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.868 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.868 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.868 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-06-24 14:05:20.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-06-24 14:05:20.869 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.869 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.869 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.869 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-06-24 14:05:20.870 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-06-24 14:05:20.870 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.870 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.870 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.870 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-06-24 14:05:20.871 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-06-24 14:05:20.871 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.871 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.871 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.871 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-06-24 14:05:20.872 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-06-24 14:05:20.872 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.872 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.872 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:20.872 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-06-24 14:05:20.873 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-06-24 14:05:20.873 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:20.873 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.449 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1576ms).
2023-06-24 14:05:22.450 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-06-24 14:05:22.451 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-06-24 14:05:22.451 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:22.451 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.451 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.451 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SourceId] ON [Leads] ([SourceId]);
2023-06-24 14:05:22.454 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SourceId] ON [Leads] ([SourceId]);
2023-06-24 14:05:22.454 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:22.454 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.454 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.454 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SupplierId] ON [Leads] ([SupplierId]);
2023-06-24 14:05:22.456 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SupplierId] ON [Leads] ([SupplierId]);
2023-06-24 14:05:22.456 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:05:22.456 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.456 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:05:22.456 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230624130148_initalMigration', N'7.0.1');
2023-06-24 14:05:22.460 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230624130148_initalMigration', N'7.0.1');
2023-06-24 14:05:22.461 +01:00 [DBG] Committing transaction.
2023-06-24 14:05:22.465 +01:00 [DBG] Committed transaction.
2023-06-24 14:05:22.466 +01:00 [DBG] Disposing transaction.
2023-06-24 14:05:22.466 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:22.466 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:05:22.468 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:05:22.468 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:05:22.468 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-24 14:07:59.454 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-24 14:07:59.644 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:08:00.113 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:08:00.116 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:08:00.456 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:08:00.473 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:08:00.756 +01:00 [DBG] Created DbConnection. (280ms).
2023-06-24 14:08:00.761 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:08:00.772 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.220 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.232 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:08:01.243 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-06-24 14:08:01.248 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2023-06-24 14:08:01.277 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:08:01.362 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:08:01.374 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.388 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (7ms).
2023-06-24 14:08:01.398 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:08:01.400 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:08:01.401 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-06-24 14:08:01.403 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.405 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.407 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:08:01.441 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:08:01.443 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.445 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:01.449 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.450 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.452 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:08:01.454 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:08:01.456 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2023-06-24 14:08:01.458 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:08:01.467 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:08:01.472 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.473 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:01.475 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:08:01.476 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:08:01.478 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-06-24 14:08:01.480 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.481 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.482 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:08:01.486 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:08:01.489 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.491 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:01.512 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:01.513 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:01.514 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:01.515 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.517 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.518 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:08:01.522 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:08:01.533 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:01.537 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 10ms reading results.
2023-06-24 14:08:01.542 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.545 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (3ms).
2023-06-24 14:08:01.564 +01:00 [INF] No migrations were applied. The database is already up to date.
2023-06-24 14:08:01.572 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.576 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.579 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:08:01.580 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:08:01.581 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-24 14:08:01.583 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:08:01.586 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:08:01.589 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.590 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:01.593 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:08:01.595 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:08:01.597 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-06-24 14:08:01.600 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.605 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.608 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:08:01.677 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:08:01.683 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:01.685 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (2ms).
2023-06-24 14:08:01.834 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-06-24 14:08:02.079 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:08:02.130 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.131 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.137 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-06-24 14:08:02.138 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.140 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.143 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:08:02.246 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:08:02.256 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.258 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 6ms reading results.
2023-06-24 14:08:02.260 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.261 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.428 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-06-24 14:08:02.440 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:08:02.444 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.446 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.447 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.448 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.449 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.450 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:08:02.455 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:08:02.458 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.459 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.460 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.462 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.471 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.472 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.473 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.474 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.476 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.477 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:08:02.479 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:08:02.482 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.483 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.484 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.485 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.580 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.585 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.588 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.605 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:08:02.665 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.667 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.670 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.671 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.673 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.674 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-06-24 14:08:02.688 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-06-24 14:08:02.693 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.695 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:08:02.697 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.698 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:08:02.706 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.711 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:08:02.715 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-06-24 14:08:02.721 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:08:02.724 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.725 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.727 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.728 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.729 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.730 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.734 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.736 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.738 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.739 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.741 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.746 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.748 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.749 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:08:02.750 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.751 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.752 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.755 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.758 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.759 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.760 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.761 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.781 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.785 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.786 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.789 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:08:02.792 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.794 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.795 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.796 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.797 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.798 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:08:02.804 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:08:02.807 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.808 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.809 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.810 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.812 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.815 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:08:02.817 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.818 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.821 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:08:02.822 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.824 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.825 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.833 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.837 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.838 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.839 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.840 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.842 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.843 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.844 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.845 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.846 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.847 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.851 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.853 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.854 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.855 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.856 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.858 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.859 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.860 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.861 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:08:02.862 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.863 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.864 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.866 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.867 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.868 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:08:02.871 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:08:02.873 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.874 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.875 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.876 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.878 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.879 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:08:02.882 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.882 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.884 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.885 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.886 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.887 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.890 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.892 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.893 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.894 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.896 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.897 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.898 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.899 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.901 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.902 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.903 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.906 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:08:02.908 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.909 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.910 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.911 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.913 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.914 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.915 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:02.916 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:08:02.917 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.918 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.919 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.920 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:02.921 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.922 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:08:02.926 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:08:02.928 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.929 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:02.931 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.932 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.933 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:02.935 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:08:02.939 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-06-24 14:08:02.945 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:08:02.949 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.950 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.951 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:02.952 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.953 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.954 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:08:02.959 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:08:02.964 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:02.966 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:08:02.967 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:02.969 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:02.979 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-06-24 14:08:02.989 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:08:02.996 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:02.998 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:02.999 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:03.000 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.001 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.002 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-06-24 14:08:03.007 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-06-24 14:08:03.010 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:03.011 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:03.012 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.014 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:03.018 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:03.021 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:03.022 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:08:03.023 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.025 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.026 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:08:03.030 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:08:03.033 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:03.034 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:08:03.036 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.038 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:03.051 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:03.054 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:03.055 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:03.056 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:03.057 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.058 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.059 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:08:03.067 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:08:03.071 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:03.072 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:08:03.074 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.075 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:03.078 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:03.079 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:08:03.081 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:03.082 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.083 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.084 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:08:03.090 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:08:03.092 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:03.093 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:08:03.094 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.095 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:03.100 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:03.103 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:03.104 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:03.105 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:08:03.118 +01:00 [DBG] Executing 2 update commands as a batch.
2023-06-24 14:08:03.122 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.124 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.127 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-24 14:08:03.134 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-24 14:08:03.136 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:08:03.137 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:08:03.139 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:08:03.140 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [IsActive] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2023-06-24 14:08:03.156 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [IsActive] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2023-06-24 14:08:03.163 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:08:03.164 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:08:03.169 +01:00 [DBG] Committing transaction.
2023-06-24 14:08:03.173 +01:00 [DBG] Committed transaction.
2023-06-24 14:08:03.176 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:08:03.177 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:08:03.180 +01:00 [DBG] Disposing transaction.
2023-06-24 14:08:03.181 +01:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:03.182 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:08:03.184 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 2 entities written to the database.
2023-06-24 14:08:03.186 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:03.187 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:08:03.188 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:08:03.188 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 0 entities written to the database.
2023-06-24 14:08:03.192 +01:00 [DBG] Hosting starting
2023-06-24 14:08:03.202 +01:00 [INF] User profile is available. Using 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-24 14:08:03.210 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-0ab67fba-b2a8-4a49-bb45-f6301329f8a6.xml'.
2023-06-24 14:08:03.231 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-566a1830-4c02-4feb-b47e-cd983ddb58ec.xml'.
2023-06-24 14:08:03.247 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-68d7b5e6-474a-475f-9c5e-5b01cdc5d785.xml'.
2023-06-24 14:08:03.260 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-6d7a1708-86b1-498a-a204-b3d7f14e23c9.xml'.
2023-06-24 14:08:03.273 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-a18f0a53-40a2-4359-b5c6-357e7054b5da.xml'.
2023-06-24 14:08:03.285 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e66d40f7-11ec-4d3d-83cf-20322c5558ca.xml'.
2023-06-24 14:08:03.297 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e77340ef-0686-4d9d-8989-5f4290804443.xml'.
2023-06-24 14:08:03.310 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-f886f59b-0f0f-4c22-8697-a9c3be207b84.xml'.
2023-06-24 14:08:03.330 +01:00 [DBG] Found key {0ab67fba-b2a8-4a49-bb45-f6301329f8a6}.
2023-06-24 14:08:03.337 +01:00 [DBG] Found key {566a1830-4c02-4feb-b47e-cd983ddb58ec}.
2023-06-24 14:08:03.339 +01:00 [DBG] Found key {68d7b5e6-474a-475f-9c5e-5b01cdc5d785}.
2023-06-24 14:08:03.340 +01:00 [DBG] Found key {6d7a1708-86b1-498a-a204-b3d7f14e23c9}.
2023-06-24 14:08:03.341 +01:00 [DBG] Found key {a18f0a53-40a2-4359-b5c6-357e7054b5da}.
2023-06-24 14:08:03.342 +01:00 [DBG] Found key {e66d40f7-11ec-4d3d-83cf-20322c5558ca}.
2023-06-24 14:08:03.343 +01:00 [DBG] Found key {e77340ef-0686-4d9d-8989-5f4290804443}.
2023-06-24 14:08:03.344 +01:00 [DBG] Found key {f886f59b-0f0f-4c22-8697-a9c3be207b84}.
2023-06-24 14:08:03.351 +01:00 [DBG] Considering key {f886f59b-0f0f-4c22-8697-a9c3be207b84} with expiration date 2023-07-22 12:25:16Z as default key.
2023-06-24 14:08:03.356 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:08:03.357 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-06-24 14:08:03.359 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:08:03.362 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-06-24 14:08:03.364 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-06-24 14:08:03.366 +01:00 [DBG] Using key {f886f59b-0f0f-4c22-8697-a9c3be207b84} as the default key.
2023-06-24 14:08:03.367 +01:00 [DBG] Key ring with default key {f886f59b-0f0f-4c22-8697-a9c3be207b84} was loaded during application startup.
2023-06-24 14:08:03.500 +01:00 [INF] Now listening on: https://localhost:7043
2023-06-24 14:08:03.504 +01:00 [INF] Now listening on: http://localhost:5043
2023-06-24 14:08:03.506 +01:00 [DBG] Loaded hosting startup assembly LeadManager.API
2023-06-24 14:08:03.507 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-24 14:08:03.508 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-24 14:08:03.510 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-24 14:08:03.511 +01:00 [INF] Hosting environment: Development
2023-06-24 14:08:03.512 +01:00 [INF] Content root path: E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API
2023-06-24 14:08:03.513 +01:00 [DBG] Hosting started
2023-06-24 14:08:03.844 +01:00 [DBG] Connection id "0HMRKMG5NH2GH" accepted.
2023-06-24 14:08:03.847 +01:00 [DBG] Connection id "0HMRKMG5NH2GH" started.
2023-06-24 14:08:03.852 +01:00 [DBG] Connection id "0HMRKMG5NH2GI" accepted.
2023-06-24 14:08:03.854 +01:00 [DBG] Connection id "0HMRKMG5NH2GI" started.
2023-06-24 14:08:05.885 +01:00 [DBG] Connection id "0HMRKMG5NH2GJ" accepted.
2023-06-24 14:08:05.920 +01:00 [DBG] Connection id "0HMRKMG5NH2GJ" started.
2023-06-24 14:08:06.130 +01:00 [DBG] Connection 0HMRKMG5NH2GJ established using the following protocol: "Tls12"
2023-06-24 14:08:06.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/index.html - -
2023-06-24 14:08:06.373 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-24 14:08:06.419 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:08:06.753 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-24 14:08:06.795 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-24 14:08:06.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/index.html - - - 200 - text/html;charset=utf-8 502.6629ms
2023-06-24 14:08:06.819 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - -
2023-06-24 14:08:06.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_vs/browserLink - -
2023-06-24 14:08:06.837 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 18.5024ms
2023-06-24 14:08:06.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 114.6649ms
2023-06-24 14:08:07.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - -
2023-06-24 14:08:07.102 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:08:07.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 212.2155ms
2023-06-24 14:08:10.427 +01:00 [DBG] Connection id "0HMRKMG5NH2GJ" received FIN.
2023-06-24 14:08:10.432 +01:00 [DBG] Connection id "0HMRKMG5NH2GJ" is closed. The last processed stream ID was 7.
2023-06-24 14:08:10.433 +01:00 [DBG] The connection queue processing loop for 0HMRKMG5NH2GJ completed.
2023-06-24 14:08:10.435 +01:00 [DBG] Connection id "0HMRKMG5NH2GJ" sending FIN because: "The client closed the connection."
2023-06-24 14:08:10.452 +01:00 [DBG] Connection id "0HMRKMG5NH2GJ" stopped.
2023-06-24 14:08:13.861 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-06-24 14:08:13.861 +01:00 [DBG] Authentication of the HTTPS connection timed out.
2023-06-24 14:08:13.863 +01:00 [DBG] Connection id "0HMRKMG5NH2GH" stopped.
2023-06-24 14:08:13.864 +01:00 [DBG] Connection id "0HMRKMG5NH2GI" stopped.
2023-06-24 14:08:13.865 +01:00 [DBG] Connection id "0HMRKMG5NH2GH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:08:13.866 +01:00 [DBG] Connection id "0HMRKMG5NH2GI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:09:06.198 +01:00 [DBG] Connection id "0HMRKMG5NH2GK" received FIN.
2023-06-24 14:09:06.207 +01:00 [DBG] Connection id "0HMRKMG5NH2GK" accepted.
2023-06-24 14:09:06.207 +01:00 [DBG] Connection id "0HMRKMG5NH2GK" started.
2023-06-24 14:09:06.212 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" accepted.
2023-06-24 14:09:06.214 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" started.
2023-06-24 14:09:06.215 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:09:06.251 +01:00 [DBG] Connection 0HMRKMG5NH2GL established using the following protocol: "Tls12"
2023-06-24 14:09:06.266 +01:00 [DBG] Connection id "0HMRKMG5NH2GK" stopped.
2023-06-24 14:09:06.268 +01:00 [DBG] Connection id "0HMRKMG5NH2GK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:09:06.279 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/user application/json 132
2023-06-24 14:09:06.283 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:09:06.285 +01:00 [DBG] POST requests are not supported
2023-06-24 14:09:06.315 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/user'
2023-06-24 14:09:06.317 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API)' with route pattern 'api/Users/user' is valid for the request path '/api/users/user'
2023-06-24 14:09:06.319 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API)'
2023-06-24 14:09:07.006 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '20/06/2023 22:20:21', Current time: '24/06/2023 13:09:06'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-24 14:09:07.012 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '20/06/2023 22:20:21', Current time: '24/06/2023 13:09:06'.
2023-06-24 14:09:07.018 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-06-24 14:09:07.024 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-06-24 14:09:07.027 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:09:07.029 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/user application/json 132 - 401 0 - 750.2389ms
2023-06-24 14:09:07.031 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000001": started reading request body.
2023-06-24 14:09:07.032 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000001": done reading request body.
2023-06-24 14:09:16.420 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/token application/json 82
2023-06-24 14:09:16.422 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:09:16.423 +01:00 [DBG] POST requests are not supported
2023-06-24 14:09:16.426 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/token'
2023-06-24 14:09:16.428 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)' with route pattern 'api/Users/token' is valid for the request path '/api/users/token'
2023-06-24 14:09:16.429 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:16.431 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:16.454 +01:00 [INF] Route matched with {action = "CreateToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(LeadManager.Core.ViewModels.UserDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-24 14:09:16.458 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:09:16.460 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:09:16.462 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:09:16.464 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:09:16.465 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:09:16.468 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:16.657 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:16.664 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:09:16.667 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' using the name '' in request data ...
2023-06-24 14:09:16.670 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:09:16.671 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:09:16.677 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000002": started reading request body.
2023-06-24 14:09:16.679 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000002": done reading request body.
2023-06-24 14:09:16.758 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:16.760 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:16.762 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:09:16.775 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:16.794 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:09:16.798 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:16.799 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:09:16.800 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:09:16.801 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:09:16.802 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:09:16.803 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:16.804 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:16.805 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:16.811 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:16.817 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:09:16.819 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:16.820 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 5ms reading results.
2023-06-24 14:09:16.821 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:16.822 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:09:16.945 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:09:16.950 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:09:16.951 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:09:16.952 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:09:16.953 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:09:16.955 +01:00 [INF] Executing CreatedResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-24 14:09:17.002 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API) in 531.9892ms
2023-06-24 14:09:17.004 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:17.005 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:09:17.009 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:09:17.014 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:17.016 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-06-24 14:09:17.018 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/token application/json 82 - 201 352 application/json;+charset=utf-8 597.3491ms
2023-06-24 14:09:20.787 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83
2023-06-24 14:09:20.788 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:09:20.789 +01:00 [DBG] POST requests are not supported
2023-06-24 14:09:20.790 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/token'
2023-06-24 14:09:20.791 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)' with route pattern 'api/Users/token' is valid for the request path '/api/users/token'
2023-06-24 14:09:20.793 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:20.795 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:20.796 +01:00 [INF] Route matched with {action = "CreateToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(LeadManager.Core.ViewModels.UserDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-24 14:09:20.798 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:09:20.799 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:09:20.801 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:09:20.803 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:09:20.804 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:09:20.805 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:20.809 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:20.811 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:09:20.812 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' using the name '' in request data ...
2023-06-24 14:09:20.815 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:09:20.817 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:09:20.820 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000003": started reading request body.
2023-06-24 14:09:20.821 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000003": done reading request body.
2023-06-24 14:09:20.822 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:20.823 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:20.824 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:09:20.827 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:20.885 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:09:20.888 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:20.890 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:09:20.890 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:09:20.891 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:09:20.892 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:09:20.893 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:20.895 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:20.896 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:20.900 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:20.903 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:20.904 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:09:20.905 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:20.906 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:09:20.908 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:09:20.911 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:09:20.912 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:09:20.913 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:09:20.914 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-06-24 14:09:20.915 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-06-24 14:09:20.917 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API) in 112.0732ms
2023-06-24 14:09:20.918 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:20.919 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:09:20.920 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:09:20.921 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:20.923 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:09:20.924 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83 - 400 - text/plain;+charset=utf-8 137.6471ms
2023-06-24 14:09:35.826 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/user application/json 132
2023-06-24 14:09:35.828 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:09:35.829 +01:00 [DBG] POST requests are not supported
2023-06-24 14:09:35.831 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/user'
2023-06-24 14:09:35.832 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API)' with route pattern 'api/Users/user' is valid for the request path '/api/users/user'
2023-06-24 14:09:35.834 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API)'
2023-06-24 14:09:35.849 +01:00 [DBG] Successfully validated the token.
2023-06-24 14:09:35.854 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-06-24 14:09:35.859 +01:00 [DBG] Authorization was successful.
2023-06-24 14:09:35.862 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API)'
2023-06-24 14:09:35.868 +01:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(LeadManager.Core.ViewModels.UserForCreateDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-24 14:09:35.870 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:09:35.871 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:09:35.873 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:09:35.874 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:09:35.876 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:09:35.878 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:35.891 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:35.893 +01:00 [DBG] Attempting to bind parameter 'userForCreateDto' of type 'LeadManager.Core.ViewModels.UserForCreateDto' ...
2023-06-24 14:09:35.895 +01:00 [DBG] Attempting to bind parameter 'userForCreateDto' of type 'LeadManager.Core.ViewModels.UserForCreateDto' using the name '' in request data ...
2023-06-24 14:09:35.896 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:09:35.897 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:09:35.898 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000004": started reading request body.
2023-06-24 14:09:35.899 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000004": done reading request body.
2023-06-24 14:09:35.903 +01:00 [DBG] Done attempting to bind parameter 'userForCreateDto' of type 'LeadManager.Core.ViewModels.UserForCreateDto'.
2023-06-24 14:09:35.904 +01:00 [DBG] Done attempting to bind parameter 'userForCreateDto' of type 'LeadManager.Core.ViewModels.UserForCreateDto'.
2023-06-24 14:09:35.905 +01:00 [DBG] Attempting to validate the bound parameter 'userForCreateDto' of type 'LeadManager.Core.ViewModels.UserForCreateDto' ...
2023-06-24 14:09:35.908 +01:00 [DBG] Done attempting to validate the bound parameter 'userForCreateDto' of type 'LeadManager.Core.ViewModels.UserForCreateDto'.
2023-06-24 14:09:38.504 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:09:38.507 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:38.508 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:09:38.509 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:09:38.510 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:09:38.512 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:09:38.513 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.514 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.515 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:09:38.520 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:09:38.523 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:38.524 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:09:38.526 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.528 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:09:38.614 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:38.615 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:09:38.616 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:09:38.617 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.619 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.620 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:38.624 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:38.628 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:38.629 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:09:38.630 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.632 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:09:38.634 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:38.635 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:09:38.636 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:09:38.637 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.638 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.639 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:09:38.642 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:09:38.645 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:38.646 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:09:38.648 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.649 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:09:38.650 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:09:38.651 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:09:38.652 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:09:38.653 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:09:38.655 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.656 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.656 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:38.657 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:09:38.659 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:09:38.661 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-06-24 14:09:38.670 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-06-24 14:09:38.673 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:38.674 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:09:38.676 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.679 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (2ms).
2023-06-24 14:09:38.680 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:09:38.682 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:09:38.684 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:09:38.686 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:09:38.687 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:09:38.688 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:09:38.689 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:09:38.690 +01:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Identity.IdentityResult'.
2023-06-24 14:09:38.710 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API) in 2831.6584ms
2023-06-24 14:09:38.712 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.CreateUser (LeadManager.API)'
2023-06-24 14:09:38.714 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:09:38.715 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:09:38.717 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:38.720 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-06-24 14:09:38.722 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/user application/json 132 - 200 30 application/json;+charset=utf-8 2895.4267ms
2023-06-24 14:09:47.516 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83
2023-06-24 14:09:47.518 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:09:47.519 +01:00 [DBG] POST requests are not supported
2023-06-24 14:09:47.519 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/token'
2023-06-24 14:09:47.520 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)' with route pattern 'api/Users/token' is valid for the request path '/api/users/token'
2023-06-24 14:09:47.522 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:47.523 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:47.524 +01:00 [INF] Route matched with {action = "CreateToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(LeadManager.Core.ViewModels.UserDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-24 14:09:47.526 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:09:47.527 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:09:47.529 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:09:47.530 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:09:47.532 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:09:47.533 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:47.534 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:09:47.536 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:09:47.537 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' using the name '' in request data ...
2023-06-24 14:09:47.538 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:09:47.539 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:09:47.541 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000005": started reading request body.
2023-06-24 14:09:47.542 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000005": done reading request body.
2023-06-24 14:09:47.544 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:47.545 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:47.546 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:09:47.547 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:09:47.548 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:09:47.550 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:09:47.551 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:09:47.552 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:09:47.552 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:09:47.554 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:09:47.555 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:47.556 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:47.557 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:47.563 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:09:47.566 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:09:47.567 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:09:47.568 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:09:47.569 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:47.571 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:09:47.572 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:09:47.575 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:09:47.576 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:09:47.577 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:09:47.578 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-06-24 14:09:47.579 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-06-24 14:09:47.580 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API) in 47.4497ms
2023-06-24 14:09:47.581 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:09:47.582 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:09:47.583 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:09:47.584 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:09:47.585 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:09:47.587 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83 - 400 - text/plain;+charset=utf-8 70.4366ms
2023-06-24 14:10:08.803 +01:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7043/api/users/activate application/json 73
2023-06-24 14:10:08.811 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:10:08.813 +01:00 [DBG] PATCH requests are not supported
2023-06-24 14:10:08.814 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/activate'
2023-06-24 14:10:08.816 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.ActivateUser (LeadManager.API)' with route pattern 'api/Users/activate' is valid for the request path '/api/users/activate'
2023-06-24 14:10:08.818 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.ActivateUser (LeadManager.API)'
2023-06-24 14:10:08.821 +01:00 [DBG] Successfully validated the token.
2023-06-24 14:10:08.822 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-06-24 14:10:08.825 +01:00 [DBG] Authorization was successful.
2023-06-24 14:10:08.826 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.ActivateUser (LeadManager.API)'
2023-06-24 14:10:08.832 +01:00 [INF] Route matched with {action = "ActivateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActivateUser(LeadManager.Core.ViewModels.RegisteredUserIsActiveDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-24 14:10:08.835 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:10:08.836 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:10:08.837 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:10:08.839 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:10:08.841 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:10:08.843 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:10:08.845 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:10:08.846 +01:00 [DBG] Attempting to bind parameter 'registeredUserIsActiveVM' of type 'LeadManager.Core.ViewModels.RegisteredUserIsActiveDto' ...
2023-06-24 14:10:08.847 +01:00 [DBG] Attempting to bind parameter 'registeredUserIsActiveVM' of type 'LeadManager.Core.ViewModels.RegisteredUserIsActiveDto' using the name '' in request data ...
2023-06-24 14:10:08.848 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:10:08.850 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:10:08.851 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000006": started reading request body.
2023-06-24 14:10:08.852 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000006": done reading request body.
2023-06-24 14:10:08.856 +01:00 [DBG] Done attempting to bind parameter 'registeredUserIsActiveVM' of type 'LeadManager.Core.ViewModels.RegisteredUserIsActiveDto'.
2023-06-24 14:10:08.858 +01:00 [DBG] Done attempting to bind parameter 'registeredUserIsActiveVM' of type 'LeadManager.Core.ViewModels.RegisteredUserIsActiveDto'.
2023-06-24 14:10:08.860 +01:00 [DBG] Attempting to validate the bound parameter 'registeredUserIsActiveVM' of type 'LeadManager.Core.ViewModels.RegisteredUserIsActiveDto' ...
2023-06-24 14:10:08.862 +01:00 [DBG] Done attempting to validate the bound parameter 'registeredUserIsActiveVM' of type 'LeadManager.Core.ViewModels.RegisteredUserIsActiveDto'.
2023-06-24 14:10:11.982 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:10:11.986 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:10:11.987 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:10:11.988 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:10:11.989 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:10:11.991 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:10:11.992 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:11.994 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:11.995 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:10:11.999 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:10:12.002 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:10:12.003 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:10:12.004 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:10:12.006 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.007 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:10:12.009 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:10:12.011 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:10:12.012 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:10:12.013 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.014 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.015 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:10:12.019 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:10:12.025 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:10:12.027 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:10:12.028 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.029 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:10:12.030 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:10:12.031 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:10:12.032 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:10:12.033 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.034 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.036 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:10:12.039 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:10:12.042 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:10:12.044 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:10:12.045 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.046 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:10:12.048 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:10:12.049 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:10:12.050 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:10:12.052 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:10:12.054 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.055 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.056 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:10:12.058 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:10:12.059 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:10:12.060 +01:00 [DBG] Executing DbCommand [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [IsActive] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2023-06-24 14:10:12.070 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [IsActive] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2023-06-24 14:10:12.074 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:10:12.075 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:10:12.077 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.078 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:10:12.079 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:10:12.080 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:10:12.082 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:10:12.086 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:10:12.086 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:10:12.087 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:10:12.088 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:10:12.089 +01:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Identity.IdentityResult'.
2023-06-24 14:10:12.090 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.ActivateUser (LeadManager.API) in 3247.3957ms
2023-06-24 14:10:12.092 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.ActivateUser (LeadManager.API)'
2023-06-24 14:10:12.093 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:10:12.094 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:10:12.095 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:12.097 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:10:12.098 +01:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7043/api/users/activate application/json 73 - 200 30 application/json;+charset=utf-8 3294.7932ms
2023-06-24 14:10:16.713 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83
2023-06-24 14:10:16.714 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:10:16.715 +01:00 [DBG] POST requests are not supported
2023-06-24 14:10:16.715 +01:00 [DBG] 1 candidate(s) found for the request path '/api/users/token'
2023-06-24 14:10:16.716 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)' with route pattern 'api/Users/token' is valid for the request path '/api/users/token'
2023-06-24 14:10:16.718 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:10:16.719 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:10:16.720 +01:00 [INF] Route matched with {action = "CreateToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateToken(LeadManager.Core.ViewModels.UserDto) on controller LeadManager.API.Controllers.UsersController (LeadManager.API).
2023-06-24 14:10:16.722 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:10:16.723 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:10:16.724 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:10:16.726 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:10:16.728 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:10:16.730 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:10:16.731 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.UsersController (LeadManager.API)
2023-06-24 14:10:16.732 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:10:16.733 +01:00 [DBG] Attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' using the name '' in request data ...
2023-06-24 14:10:16.736 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:10:16.737 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:10:16.738 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000007": started reading request body.
2023-06-24 14:10:16.739 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000007": done reading request body.
2023-06-24 14:10:16.740 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:10:16.741 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:10:16.744 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto' ...
2023-06-24 14:10:16.745 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'LeadManager.Core.ViewModels.UserDto'.
2023-06-24 14:10:16.746 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:10:16.748 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:10:16.749 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:10:16.750 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:10:16.751 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:10:16.752 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:10:16.753 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:16.754 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:16.755 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:10:16.759 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:10:16.762 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:10:16.764 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:10:16.765 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:10:16.766 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:16.768 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:10:16.853 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:10:16.857 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:10:16.858 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:10:16.860 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:10:16.861 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:10:16.863 +01:00 [INF] Executing CreatedResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-24 14:10:16.866 +01:00 [INF] Executed action LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API) in 135.9328ms
2023-06-24 14:10:16.867 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.UsersController.CreateToken (LeadManager.API)'
2023-06-24 14:10:16.868 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:10:16.869 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:10:16.870 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:10:16.872 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:10:16.874 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/users/token application/json 83 - 201 360 application/json;+charset=utf-8 160.6724ms
2023-06-24 14:12:40.782 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7043/api/sources - -
2023-06-24 14:12:40.783 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:12:40.785 +01:00 [DBG] The request path  does not match the path filter
2023-06-24 14:12:40.785 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:12:40.786 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:12:40.788 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:12:40.789 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:12:40.793 +01:00 [INF] Route matched with {action = "GetSources", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LeadManager.Core.ViewModels.SourceDto]]] GetSources() on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:12:40.796 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:12:40.797 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:12:40.799 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:12:40.801 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:12:40.802 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:12:40.804 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:12:40.806 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:12:40.813 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:12:40.818 +01:00 [DBG] Compiling query expression: 
'DbSet<Source>()'
2023-06-24 14:12:40.825 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Source>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Source.SourceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Source.Description (string) MaxLength(200), 1], [Property: Source.Name (string) Required MaxLength(50), 2], [Property: Source.SourceRef (Guid) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 3] }
        SELECT s.SourceId, s.Description, s.Name, s.SourceRef
        FROM Sources AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Source>, 
    LeadManager.Infrastructure.Data.LeadManagerDbContext, 
    False, 
    False, 
    True
)'
2023-06-24 14:12:40.830 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:12:40.831 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:12:40.833 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:12:40.834 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:12:40.835 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:12:40.836 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:12:40.837 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:12:40.838 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SourceId], [s].[Description], [s].[Name], [s].[SourceRef]
FROM [Sources] AS [s]
2023-06-24 14:12:40.844 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SourceId], [s].[Description], [s].[Name], [s].[SourceRef]
FROM [Sources] AS [s]
2023-06-24 14:12:40.850 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:12:40.852 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:12:40.853 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:12:40.854 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:12:40.868 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:12:40.871 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:12:40.873 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-06-24 14:12:40.876 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-06-24 14:12:40.877 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-24 14:12:40.892 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) in 88.8064ms
2023-06-24 14:12:40.894 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:12:40.895 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:12:40.896 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:12:40.897 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:12:40.898 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:12:40.899 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7043/api/sources - - - 404 161 application/problem+json;+charset=utf-8 117.4518ms
2023-06-24 14:13:14.474 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-24 14:13:14.479 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:13:14.480 +01:00 [DBG] POST requests are not supported
2023-06-24 14:13:14.481 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:13:14.482 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:13:14.483 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:13:14.484 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:13:14.489 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:13:14.492 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:13:14.493 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:13:14.494 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:13:14.497 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:13:14.499 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:13:14.500 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:13:14.502 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:13:14.503 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:13:14.505 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-24 14:13:14.506 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:13:14.507 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:13:14.509 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000009": started reading request body.
2023-06-24 14:13:14.510 +01:00 [DBG] Connection id "0HMRKMG5NH2GL", Request id "0HMRKMG5NH2GL:00000009": done reading request body.
2023-06-24 14:13:14.513 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:13:14.515 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:13:14.516 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:13:14.518 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:13:14.524 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:13:14.537 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:13:14.562 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:13:14.564 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:13:14.564 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:13:14.569 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:13:14.576 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:13:14.577 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:13:14.579 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:13:14.580 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:13:14.581 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:13:14.582 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:13:14.583 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:13:14.584 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:13:14.598 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:13:14.608 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:13:14.610 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 9ms reading results.
2023-06-24 14:13:14.612 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:13:14.613 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:13:14.653 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'LeadManager.Infrastructure.Data.LeadManagerDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff2b0ccb-b3a9-4d5e-9a9a-fef9bc6a362e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff2b0ccb-b3a9-4d5e-9a9a-fef9bc6a362e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-24 14:13:14.846 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 346.2372ms
2023-06-24 14:13:14.850 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:13:14.852 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff2b0ccb-b3a9-4d5e-9a9a-fef9bc6a362e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeadManager.Infrastructure.Data.Repositories.SourceRepository.AddSourceAsync(Source source) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Data\Repositories\SourceRepository.cs:line 24
   at LeadManager.Infrastructure.Services.SourceService.CreateSourceAsync(Source sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Services\SourceService.cs:line 22
   at LeadManager.API.Controllers.SourcesController.CreateSource(SourceForCreateDto sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API\Controllers\SourcesController.cs:line 56
   at lambda_method309(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-06-24 14:13:14.897 +01:00 [DBG] Connection id "0HMRKMG5NH2GL" completed keep alive response.
2023-06-24 14:13:14.899 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:13:14.901 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:13:14.902 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:13:14.903 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 500 - text/plain;+charset=utf-8 429.7167ms
2023-06-24 14:14:40.779 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-24 14:15:42.978 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-24 14:15:43.161 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:15:43.612 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:15:43.615 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:15:43.934 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:15:43.945 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:15:43.996 +01:00 [DBG] Created DbConnection. (48ms).
2023-06-24 14:15:44.001 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:15:44.011 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.273 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.281 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:15:44.289 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-06-24 14:15:44.293 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-06-24 14:15:44.300 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:15:44.338 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:15:44.345 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.356 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (7ms).
2023-06-24 14:15:44.363 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:15:44.365 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:15:44.366 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-24 14:15:44.367 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.369 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.370 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:15:44.396 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:15:44.398 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.400 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.403 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.404 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.405 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:15:44.407 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:15:44.408 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-24 14:15:44.409 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:15:44.412 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:15:44.414 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.415 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.417 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:15:44.418 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:15:44.419 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:15:44.420 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.422 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.423 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:15:44.425 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:15:44.427 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.428 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.444 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:15:44.446 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:15:44.447 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:15:44.449 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.451 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.453 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:15:44.457 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:15:44.467 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:15:44.470 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 9ms reading results.
2023-06-24 14:15:44.472 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.473 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.483 +01:00 [INF] No migrations were applied. The database is already up to date.
2023-06-24 14:15:44.490 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.494 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.497 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:15:44.498 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:15:44.499 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-24 14:15:44.500 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:15:44.504 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:15:44.506 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.508 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.511 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:15:44.512 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:15:44.513 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-24 14:15:44.514 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.516 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.517 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:15:44.535 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:15:44.538 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.540 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.636 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-06-24 14:15:44.804 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:15:44.839 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:15:44.841 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:15:44.845 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-06-24 14:15:44.847 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.848 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.852 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:15:44.876 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:15:44.920 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:15:44.963 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:15:44.966 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 86ms reading results.
2023-06-24 14:15:44.967 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:44.968 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:44.973 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:15:44.976 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:15:45.000 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:15:45.015 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 0 entities written to the database.
2023-06-24 14:15:45.022 +01:00 [DBG] Hosting starting
2023-06-24 14:15:45.034 +01:00 [INF] User profile is available. Using 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-24 14:15:45.044 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-0ab67fba-b2a8-4a49-bb45-f6301329f8a6.xml'.
2023-06-24 14:15:45.051 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-566a1830-4c02-4feb-b47e-cd983ddb58ec.xml'.
2023-06-24 14:15:45.053 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-68d7b5e6-474a-475f-9c5e-5b01cdc5d785.xml'.
2023-06-24 14:15:45.055 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-6d7a1708-86b1-498a-a204-b3d7f14e23c9.xml'.
2023-06-24 14:15:45.056 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-a18f0a53-40a2-4359-b5c6-357e7054b5da.xml'.
2023-06-24 14:15:45.057 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e66d40f7-11ec-4d3d-83cf-20322c5558ca.xml'.
2023-06-24 14:15:45.058 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e77340ef-0686-4d9d-8989-5f4290804443.xml'.
2023-06-24 14:15:45.059 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-f886f59b-0f0f-4c22-8697-a9c3be207b84.xml'.
2023-06-24 14:15:45.065 +01:00 [DBG] Found key {0ab67fba-b2a8-4a49-bb45-f6301329f8a6}.
2023-06-24 14:15:45.071 +01:00 [DBG] Found key {566a1830-4c02-4feb-b47e-cd983ddb58ec}.
2023-06-24 14:15:45.072 +01:00 [DBG] Found key {68d7b5e6-474a-475f-9c5e-5b01cdc5d785}.
2023-06-24 14:15:45.074 +01:00 [DBG] Found key {6d7a1708-86b1-498a-a204-b3d7f14e23c9}.
2023-06-24 14:15:45.074 +01:00 [DBG] Found key {a18f0a53-40a2-4359-b5c6-357e7054b5da}.
2023-06-24 14:15:45.075 +01:00 [DBG] Found key {e66d40f7-11ec-4d3d-83cf-20322c5558ca}.
2023-06-24 14:15:45.076 +01:00 [DBG] Found key {e77340ef-0686-4d9d-8989-5f4290804443}.
2023-06-24 14:15:45.077 +01:00 [DBG] Found key {f886f59b-0f0f-4c22-8697-a9c3be207b84}.
2023-06-24 14:15:45.085 +01:00 [DBG] Considering key {f886f59b-0f0f-4c22-8697-a9c3be207b84} with expiration date 2023-07-22 12:25:16Z as default key.
2023-06-24 14:15:45.090 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:15:45.091 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-06-24 14:15:45.094 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:15:45.096 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-06-24 14:15:45.099 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-06-24 14:15:45.101 +01:00 [DBG] Using key {f886f59b-0f0f-4c22-8697-a9c3be207b84} as the default key.
2023-06-24 14:15:45.104 +01:00 [DBG] Key ring with default key {f886f59b-0f0f-4c22-8697-a9c3be207b84} was loaded during application startup.
2023-06-24 14:15:45.213 +01:00 [INF] Now listening on: https://localhost:7043
2023-06-24 14:15:45.218 +01:00 [INF] Now listening on: http://localhost:5043
2023-06-24 14:15:45.220 +01:00 [DBG] Loaded hosting startup assembly LeadManager.API
2023-06-24 14:15:45.221 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-24 14:15:45.222 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-24 14:15:45.223 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-24 14:15:45.224 +01:00 [INF] Hosting environment: Development
2023-06-24 14:15:45.225 +01:00 [INF] Content root path: E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API
2023-06-24 14:15:45.226 +01:00 [DBG] Hosting started
2023-06-24 14:15:45.515 +01:00 [DBG] Connection id "0HMRKMKFABPBF" accepted.
2023-06-24 14:15:45.518 +01:00 [DBG] Connection id "0HMRKMKFABPBF" started.
2023-06-24 14:15:45.524 +01:00 [DBG] Connection id "0HMRKMKFABPBG" received FIN.
2023-06-24 14:15:45.524 +01:00 [DBG] Connection id "0HMRKMKFABPBF" received FIN.
2023-06-24 14:15:45.527 +01:00 [DBG] Connection id "0HMRKMKFABPBG" accepted.
2023-06-24 14:15:45.529 +01:00 [DBG] Connection id "0HMRKMKFABPBG" started.
2023-06-24 14:15:45.537 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:15:45.537 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:15:45.575 +01:00 [DBG] Connection id "0HMRKMKFABPBF" stopped.
2023-06-24 14:15:45.575 +01:00 [DBG] Connection id "0HMRKMKFABPBG" stopped.
2023-06-24 14:15:45.581 +01:00 [DBG] Connection id "0HMRKMKFABPBG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:15:45.581 +01:00 [DBG] Connection id "0HMRKMKFABPBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:15:45.769 +01:00 [DBG] Connection id "0HMRKMKFABPBH" accepted.
2023-06-24 14:15:45.770 +01:00 [DBG] Connection id "0HMRKMKFABPBH" started.
2023-06-24 14:15:45.953 +01:00 [DBG] Connection 0HMRKMKFABPBH established using the following protocol: "Tls12"
2023-06-24 14:15:46.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/index.html - -
2023-06-24 14:15:46.191 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-24 14:15:46.206 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:15:46.426 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-24 14:15:46.460 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-24 14:15:46.465 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/index.html - - - 200 - text/html;charset=utf-8 307.6787ms
2023-06-24 14:15:46.477 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - -
2023-06-24 14:15:46.487 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_vs/browserLink - -
2023-06-24 14:15:46.503 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 25.7680ms
2023-06-24 14:15:46.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.5523ms
2023-06-24 14:15:46.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - -
2023-06-24 14:15:46.733 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:15:46.940 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 210.2098ms
2023-06-24 14:15:49.907 +01:00 [DBG] Connection id "0HMRKMKFABPBI" accepted.
2023-06-24 14:15:49.908 +01:00 [DBG] Connection id "0HMRKMKFABPBI" received FIN.
2023-06-24 14:15:49.908 +01:00 [DBG] Connection id "0HMRKMKFABPBI" started.
2023-06-24 14:15:49.909 +01:00 [DBG] Connection id "0HMRKMKFABPBJ" accepted.
2023-06-24 14:15:49.913 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:15:49.914 +01:00 [DBG] Connection id "0HMRKMKFABPBJ" started.
2023-06-24 14:15:49.919 +01:00 [DBG] Connection id "0HMRKMKFABPBI" stopped.
2023-06-24 14:15:49.921 +01:00 [DBG] Connection id "0HMRKMKFABPBI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:15:49.926 +01:00 [DBG] Connection 0HMRKMKFABPBJ established using the following protocol: "Tls12"
2023-06-24 14:15:49.938 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-24 14:15:49.942 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:15:49.945 +01:00 [DBG] POST requests are not supported
2023-06-24 14:15:49.976 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:15:49.978 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:15:49.980 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:15:49.984 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:15:50.005 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:15:50.009 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:15:50.010 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:15:50.012 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:15:50.014 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:15:50.015 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:15:50.018 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:15:50.193 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:15:50.198 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:15:50.201 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-24 14:15:50.204 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:15:50.205 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:15:50.213 +01:00 [DBG] Connection id "0HMRKMKFABPBJ", Request id "0HMRKMKFABPBJ:00000001": started reading request body.
2023-06-24 14:15:50.215 +01:00 [DBG] Connection id "0HMRKMKFABPBJ", Request id "0HMRKMKFABPBJ:00000001": done reading request body.
2023-06-24 14:15:50.291 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:15:50.293 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:15:50.294 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:15:50.304 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:15:50.331 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:15:50.354 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:15:50.384 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:15:50.387 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:15:50.388 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:15:50.393 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:15:50.459 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:15:50.461 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:15:50.462 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:50.463 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:50.467 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:15:50.468 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:15:50.469 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:15:50.470 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:15:50.481 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:15:50.496 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:15:50.498 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 13ms reading results.
2023-06-24 14:15:50.501 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:50.502 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:15:50.514 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'LeadManager.Infrastructure.Data.LeadManagerDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d522b485-fe6c-478a-8fe6-955bea7d0656
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d522b485-fe6c-478a-8fe6-955bea7d0656
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-24 14:15:50.730 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 710.9335ms
2023-06-24 14:15:50.734 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:15:50.736 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d522b485-fe6c-478a-8fe6-955bea7d0656
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeadManager.Infrastructure.Data.Repositories.SourceRepository.AddSourceAsync(Source source) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Data\Repositories\SourceRepository.cs:line 24
   at LeadManager.Infrastructure.Services.SourceService.CreateSourceAsync(Source sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Services\SourceService.cs:line 23
   at LeadManager.API.Controllers.SourcesController.CreateSource(SourceForCreateDto sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API\Controllers\SourcesController.cs:line 56
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-06-24 14:15:50.775 +01:00 [DBG] Connection id "0HMRKMKFABPBJ" completed keep alive response.
2023-06-24 14:15:50.779 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:15:50.784 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:15:50.786 +01:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-06-24 14:15:50.789 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 500 - text/plain;+charset=utf-8 851.4362ms
2023-06-24 14:20:47.581 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-24 14:20:47.768 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:20:48.205 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:20:48.207 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:20:48.526 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:20:48.536 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:20:48.587 +01:00 [DBG] Created DbConnection. (47ms).
2023-06-24 14:20:48.591 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:20:48.602 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.859 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.867 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:20:48.875 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-06-24 14:20:48.879 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-06-24 14:20:48.886 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:20:48.924 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:20:48.931 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.941 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (6ms).
2023-06-24 14:20:48.949 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:20:48.951 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:20:48.952 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-06-24 14:20:48.954 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.956 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.958 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:20:48.983 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:20:48.986 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.988 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:20:48.991 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.993 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:48.994 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:20:48.995 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:20:48.996 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-24 14:20:48.997 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:20:49.000 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:20:49.003 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.004 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:20:49.006 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:20:49.007 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:20:49.008 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:20:49.009 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.010 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.011 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:20:49.014 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:20:49.016 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.017 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:20:49.033 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:20:49.036 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:20:49.037 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:20:49.038 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.040 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.041 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:20:49.045 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:20:49.055 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:20:49.058 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 9ms reading results.
2023-06-24 14:20:49.060 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.061 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:20:49.071 +01:00 [INF] No migrations were applied. The database is already up to date.
2023-06-24 14:20:49.078 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.082 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.083 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:20:49.084 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:20:49.085 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:20:49.087 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:20:49.090 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:20:49.093 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.095 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (2ms).
2023-06-24 14:20:49.098 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:20:49.099 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:20:49.100 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:20:49.101 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.102 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.104 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:20:49.121 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:20:49.124 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.127 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (2ms).
2023-06-24 14:20:49.226 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-06-24 14:20:49.389 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:20:49.424 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:20:49.426 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:20:49.431 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-06-24 14:20:49.432 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.434 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.437 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:20:49.463 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:20:49.506 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:20:49.549 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:20:49.552 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 85ms reading results.
2023-06-24 14:20:49.553 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:49.554 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:20:49.559 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:20:49.561 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:20:49.582 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:20:49.588 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 0 entities written to the database.
2023-06-24 14:20:49.592 +01:00 [DBG] Hosting starting
2023-06-24 14:20:49.601 +01:00 [INF] User profile is available. Using 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-24 14:20:49.607 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-0ab67fba-b2a8-4a49-bb45-f6301329f8a6.xml'.
2023-06-24 14:20:49.611 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-566a1830-4c02-4feb-b47e-cd983ddb58ec.xml'.
2023-06-24 14:20:49.614 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-68d7b5e6-474a-475f-9c5e-5b01cdc5d785.xml'.
2023-06-24 14:20:49.615 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-6d7a1708-86b1-498a-a204-b3d7f14e23c9.xml'.
2023-06-24 14:20:49.616 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-a18f0a53-40a2-4359-b5c6-357e7054b5da.xml'.
2023-06-24 14:20:49.617 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e66d40f7-11ec-4d3d-83cf-20322c5558ca.xml'.
2023-06-24 14:20:49.618 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e77340ef-0686-4d9d-8989-5f4290804443.xml'.
2023-06-24 14:20:49.619 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-f886f59b-0f0f-4c22-8697-a9c3be207b84.xml'.
2023-06-24 14:20:49.624 +01:00 [DBG] Found key {0ab67fba-b2a8-4a49-bb45-f6301329f8a6}.
2023-06-24 14:20:49.630 +01:00 [DBG] Found key {566a1830-4c02-4feb-b47e-cd983ddb58ec}.
2023-06-24 14:20:49.632 +01:00 [DBG] Found key {68d7b5e6-474a-475f-9c5e-5b01cdc5d785}.
2023-06-24 14:20:49.632 +01:00 [DBG] Found key {6d7a1708-86b1-498a-a204-b3d7f14e23c9}.
2023-06-24 14:20:49.633 +01:00 [DBG] Found key {a18f0a53-40a2-4359-b5c6-357e7054b5da}.
2023-06-24 14:20:49.634 +01:00 [DBG] Found key {e66d40f7-11ec-4d3d-83cf-20322c5558ca}.
2023-06-24 14:20:49.636 +01:00 [DBG] Found key {e77340ef-0686-4d9d-8989-5f4290804443}.
2023-06-24 14:20:49.637 +01:00 [DBG] Found key {f886f59b-0f0f-4c22-8697-a9c3be207b84}.
2023-06-24 14:20:49.646 +01:00 [DBG] Considering key {f886f59b-0f0f-4c22-8697-a9c3be207b84} with expiration date 2023-07-22 12:25:16Z as default key.
2023-06-24 14:20:49.651 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:20:49.653 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-06-24 14:20:49.656 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:20:49.658 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-06-24 14:20:49.660 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-06-24 14:20:49.663 +01:00 [DBG] Using key {f886f59b-0f0f-4c22-8697-a9c3be207b84} as the default key.
2023-06-24 14:20:49.665 +01:00 [DBG] Key ring with default key {f886f59b-0f0f-4c22-8697-a9c3be207b84} was loaded during application startup.
2023-06-24 14:20:49.774 +01:00 [INF] Now listening on: https://localhost:7043
2023-06-24 14:20:49.776 +01:00 [INF] Now listening on: http://localhost:5043
2023-06-24 14:20:49.778 +01:00 [DBG] Loaded hosting startup assembly LeadManager.API
2023-06-24 14:20:49.779 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-24 14:20:49.781 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-24 14:20:49.782 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-24 14:20:49.782 +01:00 [INF] Hosting environment: Development
2023-06-24 14:20:49.783 +01:00 [INF] Content root path: E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API
2023-06-24 14:20:49.784 +01:00 [DBG] Hosting started
2023-06-24 14:20:50.201 +01:00 [DBG] Connection id "0HMRKMNA42JCD" accepted.
2023-06-24 14:20:50.203 +01:00 [DBG] Connection id "0HMRKMNA42JCD" started.
2023-06-24 14:20:50.208 +01:00 [DBG] Connection id "0HMRKMNA42JCE" accepted.
2023-06-24 14:20:50.209 +01:00 [DBG] Connection id "0HMRKMNA42JCE" started.
2023-06-24 14:20:50.239 +01:00 [DBG] Connection id "0HMRKMNA42JCD" received FIN.
2023-06-24 14:20:50.239 +01:00 [DBG] Connection id "0HMRKMNA42JCE" received FIN.
2023-06-24 14:20:50.251 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:20:50.251 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:20:50.292 +01:00 [DBG] Connection id "0HMRKMNA42JCD" stopped.
2023-06-24 14:20:50.292 +01:00 [DBG] Connection id "0HMRKMNA42JCE" stopped.
2023-06-24 14:20:50.298 +01:00 [DBG] Connection id "0HMRKMNA42JCD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:20:50.298 +01:00 [DBG] Connection id "0HMRKMNA42JCE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:20:50.493 +01:00 [DBG] Connection id "0HMRKMNA42JCF" accepted.
2023-06-24 14:20:50.495 +01:00 [DBG] Connection id "0HMRKMNA42JCF" started.
2023-06-24 14:20:50.697 +01:00 [DBG] Connection 0HMRKMNA42JCF established using the following protocol: "Tls12"
2023-06-24 14:20:50.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/index.html - -
2023-06-24 14:20:50.941 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-24 14:20:50.955 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:20:51.148 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-24 14:20:51.177 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-24 14:20:51.182 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/index.html - - - 200 - text/html;charset=utf-8 301.4762ms
2023-06-24 14:20:51.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - -
2023-06-24 14:20:51.210 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_vs/browserLink - -
2023-06-24 14:20:51.212 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 11.6780ms
2023-06-24 14:20:51.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.4005ms
2023-06-24 14:20:51.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - -
2023-06-24 14:20:51.472 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:20:51.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 234.0837ms
2023-06-24 14:20:55.305 +01:00 [DBG] Connection id "0HMRKMNA42JCG" accepted.
2023-06-24 14:20:55.306 +01:00 [DBG] Connection id "0HMRKMNA42JCG" received FIN.
2023-06-24 14:20:55.307 +01:00 [DBG] Connection id "0HMRKMNA42JCG" started.
2023-06-24 14:20:55.308 +01:00 [DBG] Connection id "0HMRKMNA42JCH" accepted.
2023-06-24 14:20:55.310 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:20:55.311 +01:00 [DBG] Connection id "0HMRKMNA42JCH" started.
2023-06-24 14:20:55.313 +01:00 [DBG] Connection id "0HMRKMNA42JCG" stopped.
2023-06-24 14:20:55.315 +01:00 [DBG] Connection id "0HMRKMNA42JCG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:20:55.319 +01:00 [DBG] Connection 0HMRKMNA42JCH established using the following protocol: "Tls12"
2023-06-24 14:20:55.332 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-24 14:20:55.334 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:20:55.337 +01:00 [DBG] POST requests are not supported
2023-06-24 14:20:55.368 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:20:55.370 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:20:55.372 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:20:55.377 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:20:55.398 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:20:55.402 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:20:55.403 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:20:55.406 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:20:55.408 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:20:55.410 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:20:55.412 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:20:55.591 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:20:55.598 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:20:55.603 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-24 14:20:55.606 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:20:55.608 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:20:55.615 +01:00 [DBG] Connection id "0HMRKMNA42JCH", Request id "0HMRKMNA42JCH:00000001": started reading request body.
2023-06-24 14:20:55.617 +01:00 [DBG] Connection id "0HMRKMNA42JCH", Request id "0HMRKMNA42JCH:00000001": done reading request body.
2023-06-24 14:20:55.697 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:20:55.699 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:20:55.700 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:20:55.713 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:20:55.742 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:20:55.764 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:20:55.796 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:20:55.800 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:20:55.802 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:20:55.810 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:20:55.876 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:20:55.878 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:20:55.880 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:55.881 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:55.885 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:20:55.886 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:20:55.887 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:20:55.889 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:20:55.893 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:20:55.906 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:20:55.908 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 12ms reading results.
2023-06-24 14:20:55.912 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:55.913 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:20:55.923 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'LeadManager.Infrastructure.Data.LeadManagerDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:095f0824-5baa-4e33-9197-237aafba377f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:095f0824-5baa-4e33-9197-237aafba377f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-24 14:20:56.141 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 726.7ms
2023-06-24 14:20:56.145 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:20:56.147 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:095f0824-5baa-4e33-9197-237aafba377f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeadManager.Infrastructure.Data.Repositories.SourceRepository.AddSourceAsync(Source source) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Data\Repositories\SourceRepository.cs:line 24
   at LeadManager.Infrastructure.Services.SourceService.CreateSourceAsync(Source sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Services\SourceService.cs:line 23
   at LeadManager.API.Controllers.SourcesController.CreateSource(SourceForCreateDto sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API\Controllers\SourcesController.cs:line 56
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-06-24 14:20:56.222 +01:00 [DBG] Connection id "0HMRKMNA42JCH" completed keep alive response.
2023-06-24 14:20:56.227 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:20:56.233 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:20:56.237 +01:00 [DBG] Disposed connection to database '' on server '' (4ms).
2023-06-24 14:20:56.241 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 500 - text/plain;+charset=utf-8 909.2326ms
2023-06-24 14:21:23.805 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-24 14:21:23.807 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:21:23.808 +01:00 [DBG] POST requests are not supported
2023-06-24 14:21:23.810 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:21:23.811 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:21:23.813 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:21:23.814 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:21:23.815 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:21:23.817 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:21:23.818 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:21:23.819 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:21:23.821 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:21:23.823 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:21:23.824 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:21:23.826 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:21:23.833 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:21:23.834 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-24 14:21:23.835 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:21:23.837 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:21:23.839 +01:00 [DBG] Connection id "0HMRKMNA42JCH", Request id "0HMRKMNA42JCH:00000002": started reading request body.
2023-06-24 14:21:23.840 +01:00 [DBG] Connection id "0HMRKMNA42JCH", Request id "0HMRKMNA42JCH:00000002": done reading request body.
2023-06-24 14:21:23.842 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:21:23.843 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:21:23.844 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:21:23.846 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:21:51.852 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:21:51.856 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:21:51.859 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:21:53.428 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:21:53.430 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:21:53.432 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:21:53.434 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:21:53.435 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:21:53.437 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:21:53.438 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:21:53.439 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:21:53.440 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:21:53.442 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:21:53.443 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:21:53.472 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name])
OUTPUT INSERTED.[SourceId], INSERTED.[SourceRef]
VALUES (@p0, @p1);
2023-06-24 14:21:53.476 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:21:53.477 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:21:53.479 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:21:53.481 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:21:53.485 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'LeadManager.Infrastructure.Data.LeadManagerDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:095f0824-5baa-4e33-9197-237aafba377f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:095f0824-5baa-4e33-9197-237aafba377f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-24 14:21:53.702 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 29877.9883ms
2023-06-24 14:21:53.705 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:21:53.706 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SourceRef', table 'LeadManager.dbo.Sources'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:095f0824-5baa-4e33-9197-237aafba377f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeadManager.Infrastructure.Data.Repositories.SourceRepository.AddSourceAsync(Source source) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Data\Repositories\SourceRepository.cs:line 24
   at LeadManager.Infrastructure.Services.SourceService.CreateSourceAsync(Source sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.Infrastructure\Services\SourceService.cs:line 23
   at LeadManager.API.Controllers.SourcesController.CreateSource(SourceForCreateDto sourceDto) in E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API\Controllers\SourcesController.cs:line 56
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-06-24 14:21:53.727 +01:00 [DBG] Connection id "0HMRKMNA42JCH" completed keep alive response.
2023-06-24 14:21:53.729 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:21:53.730 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:21:53.731 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:21:53.733 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 500 - text/plain;+charset=utf-8 29927.9445ms
2023-06-24 14:25:22.837 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:25:23.212 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:25:23.214 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:25:23.537 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:25:23.573 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:25:23.573 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:25:23.863 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:25:42.469 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:25:42.848 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:25:42.850 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:25:43.161 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:25:43.175 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:25:43.209 +01:00 [DBG] Created DbConnection. (30ms).
2023-06-24 14:25:43.213 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:25:43.218 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:43.376 +01:00 [DBG] An error occurred using the connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:43.378 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:43.380 +01:00 [DBG] An error occurred using the connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:43.426 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:25:43.427 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:25:43.525 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:25:43.526 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:25:43.526 +01:00 [DBG] Opening connection to database 'master' on server '.'.
2023-06-24 14:25:43.538 +01:00 [DBG] Opened connection to database 'master' on server '.'.
2023-06-24 14:25:43.543 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:43.549 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-06-24 14:25:43.551 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2023-06-24 14:25:43.557 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [LeadManager];
2023-06-24 14:25:43.928 +01:00 [INF] Executed DbCommand (370ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [LeadManager];
2023-06-24 14:25:43.929 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:43.929 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:43.929 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:43.929 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [LeadManager] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-06-24 14:25:44.008 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [LeadManager] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-06-24 14:25:44.009 +01:00 [DBG] Closing connection to database 'master' on server '.'.
2023-06-24 14:25:44.018 +01:00 [DBG] Closed connection to database 'master' on server '.' (5ms).
2023-06-24 14:25:44.020 +01:00 [DBG] Disposing connection to database 'master' on server '.'.
2023-06-24 14:25:44.021 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-24 14:25:44.021 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.025 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.025 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.025 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.025 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.026 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:25:44.033 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:25:44.033 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.033 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:44.089 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.090 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.090 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.090 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.090 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.091 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-06-24 14:25:44.103 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-06-24 14:25:44.103 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.103 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:44.104 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.104 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.104 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.104 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.104 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.104 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:25:44.105 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:25:44.105 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.105 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:44.108 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:25:44.108 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:25:44.108 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:25:44.108 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.108 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.108 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:25:44.121 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:25:44.121 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.121 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:44.123 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:25:44.123 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:25:44.123 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:25:44.123 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.123 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.123 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:25:44.126 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:25:44.127 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:25:44.128 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:25:44.129 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.129 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:44.138 +01:00 [INF] Applying migration '20230624130148_initalMigration'.
2023-06-24 14:25:44.222 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.222 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:44.223 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-24 14:25:44.228 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-24 14:25:44.229 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.229 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.230 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.230 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-06-24 14:25:44.232 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-06-24 14:25:44.232 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.232 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.233 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.233 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-06-24 14:25:44.234 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-06-24 14:25:44.234 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.234 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.234 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.234 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sources] (
    [SourceId] int NOT NULL IDENTITY,
    [SourceRef] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Sources] PRIMARY KEY ([SourceId])
);
2023-06-24 14:25:44.238 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sources] (
    [SourceId] int NOT NULL IDENTITY,
    [SourceRef] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Sources] PRIMARY KEY ([SourceId])
);
2023-06-24 14:25:44.238 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.238 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.238 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.238 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Suppliers] (
    [SupplierId] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Suppliers] PRIMARY KEY ([SupplierId])
);
2023-06-24 14:25:44.240 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Suppliers] (
    [SupplierId] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Suppliers] PRIMARY KEY ([SupplierId])
);
2023-06-24 14:25:44.240 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.240 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.240 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.240 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.241 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.241 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.241 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.241 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.243 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.243 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.243 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.243 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.243 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.388 +01:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.388 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.388 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.388 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.388 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.390 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.390 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.391 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.391 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.391 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-06-24 14:25:44.392 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:44.392 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.392 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:44.392 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Leads] (
    [LeadId] int NOT NULL IDENTITY,
    [SourceId] int NOT NULL,
    [SupplierId] int NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Leads] PRIMARY KEY ([LeadId]),
    CONSTRAINT [FK_Leads_Sources_SourceId] FOREIGN KEY ([SourceId]) REFERENCES [Sources] ([SourceId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Leads_Suppliers_SupplierId] FOREIGN KEY ([SupplierId]) REFERENCES [Suppliers] ([SupplierId]) ON DELETE CASCADE
);
2023-06-24 14:25:45.757 +01:00 [INF] Executed DbCommand (1,364ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Leads] (
    [LeadId] int NOT NULL IDENTITY,
    [SourceId] int NOT NULL,
    [SupplierId] int NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Leads] PRIMARY KEY ([LeadId]),
    CONSTRAINT [FK_Leads_Sources_SourceId] FOREIGN KEY ([SourceId]) REFERENCES [Sources] ([SourceId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Leads_Suppliers_SupplierId] FOREIGN KEY ([SupplierId]) REFERENCES [Suppliers] ([SupplierId]) ON DELETE CASCADE
);
2023-06-24 14:25:45.757 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.757 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.757 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.757 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-06-24 14:25:45.758 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-06-24 14:25:45.758 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.758 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.758 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.758 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-06-24 14:25:45.759 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-06-24 14:25:45.760 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.760 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.760 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.760 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-06-24 14:25:45.760 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-06-24 14:25:45.760 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.760 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.761 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.761 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-06-24 14:25:45.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-06-24 14:25:45.761 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.762 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.762 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.762 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-06-24 14:25:45.762 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-06-24 14:25:45.762 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.762 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.762 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:45.762 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-06-24 14:25:45.763 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-06-24 14:25:45.763 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:45.763 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.309 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1545ms).
2023-06-24 14:25:47.309 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-06-24 14:25:47.312 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-06-24 14:25:47.312 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:47.312 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.312 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.312 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SourceId] ON [Leads] ([SourceId]);
2023-06-24 14:25:47.315 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SourceId] ON [Leads] ([SourceId]);
2023-06-24 14:25:47.315 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:47.315 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.315 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.315 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SupplierId] ON [Leads] ([SupplierId]);
2023-06-24 14:25:47.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Leads_SupplierId] ON [Leads] ([SupplierId]);
2023-06-24 14:25:47.317 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:47.317 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.317 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.317 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230624130148_initalMigration', N'7.0.1');
2023-06-24 14:25:47.321 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230624130148_initalMigration', N'7.0.1');
2023-06-24 14:25:47.324 +01:00 [DBG] Committing transaction.
2023-06-24 14:25:47.331 +01:00 [DBG] Committed transaction.
2023-06-24 14:25:47.334 +01:00 [DBG] Disposing transaction.
2023-06-24 14:25:47.334 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:47.334 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:47.335 +01:00 [INF] Applying migration '20230624132523_initalCreate'.
2023-06-24 14:25:47.378 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:47.378 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:47.379 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-24 14:25:47.379 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-24 14:25:47.379 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:25:47.379 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.379 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:25:47.379 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230624132523_initalCreate', N'7.0.1');
2023-06-24 14:25:47.380 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230624132523_initalCreate', N'7.0.1');
2023-06-24 14:25:47.380 +01:00 [DBG] Committing transaction.
2023-06-24 14:25:47.382 +01:00 [DBG] Committed transaction.
2023-06-24 14:25:47.382 +01:00 [DBG] Disposing transaction.
2023-06-24 14:25:47.382 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:47.382 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:25:47.383 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:25:47.384 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:25:47.384 +01:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-06-24 14:26:34.299 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-24 14:26:34.478 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:26:34.918 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:26:34.922 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:26:35.234 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:26:35.244 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:26:35.296 +01:00 [DBG] Created DbConnection. (48ms).
2023-06-24 14:26:35.300 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:26:35.311 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.577 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.585 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:26:35.593 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-06-24 14:26:35.597 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2023-06-24 14:26:35.604 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:26:35.643 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:26:35.649 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.660 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (6ms).
2023-06-24 14:26:35.667 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:26:35.668 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:26:35.669 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-24 14:26:35.670 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.673 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.674 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:26:35.704 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:26:35.707 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.708 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:35.711 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.712 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.714 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:26:35.714 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:26:35.715 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:26:35.717 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:26:35.719 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:26:35.722 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.723 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:35.724 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:26:35.725 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:26:35.726 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:26:35.727 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.728 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.729 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:26:35.732 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:26:35.734 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.736 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:35.751 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:35.753 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:35.755 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:26:35.756 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.757 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.759 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:26:35.765 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:26:35.776 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:35.780 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 10ms reading results.
2023-06-24 14:26:35.782 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.783 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:35.793 +01:00 [INF] No migrations were applied. The database is already up to date.
2023-06-24 14:26:35.800 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.803 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.805 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:26:35.805 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:26:35.806 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:26:35.808 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:26:35.811 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:26:35.815 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.817 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:35.820 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:26:35.820 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:26:35.821 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:26:35.823 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.824 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.825 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:26:35.856 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:26:35.859 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:35.861 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:35.958 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-06-24 14:26:36.121 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:26:36.155 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.156 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.161 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-06-24 14:26:36.163 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.165 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.168 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:26:36.193 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:26:36.200 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.202 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 5ms reading results.
2023-06-24 14:26:36.204 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.205 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.305 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-06-24 14:26:36.313 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:26:36.318 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.318 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.320 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.321 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.322 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.324 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:26:36.328 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:26:36.332 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.333 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.334 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.335 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.344 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.347 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.348 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:26:36.349 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.350 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.351 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:26:36.354 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:26:36.357 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.358 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.359 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.360 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.454 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.460 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.463 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.480 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:36.538 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.540 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.544 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.545 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.546 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.548 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-06-24 14:26:36.558 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-06-24 14:26:36.570 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.571 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:26:36.574 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.576 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.585 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.590 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:26:36.594 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-06-24 14:26:36.600 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:26:36.605 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.606 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.607 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.609 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.610 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.611 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.615 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.619 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.620 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.621 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.622 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.626 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.628 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.629 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.630 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.632 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.633 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.636 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.638 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.639 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.640 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.642 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.661 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.664 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.665 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.669 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:36.672 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.673 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.674 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.675 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.676 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.677 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:26:36.684 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:26:36.686 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.687 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.688 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.689 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.691 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.693 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:26:36.696 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.697 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.698 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.699 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.700 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.701 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.707 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.710 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.711 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.713 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.714 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.715 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.716 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.717 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.718 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.719 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.720 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.723 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.726 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.727 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.728 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.729 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.731 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.732 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.733 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.734 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:36.735 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.736 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.737 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.738 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.739 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.741 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:26:36.744 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:26:36.746 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.747 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.748 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.750 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.751 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.753 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:26:36.754 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.755 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.756 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.757 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.759 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.760 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.762 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.765 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.766 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.767 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.768 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.770 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.771 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.772 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.773 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.774 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.776 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.779 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-06-24 14:26:36.781 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.782 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.783 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.784 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.786 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.787 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.788 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.789 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:36.790 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.791 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.793 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.794 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.795 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.796 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:26:36.799 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2023-06-24 14:26:36.802 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.803 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.804 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.805 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.806 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.808 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:26:36.813 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-06-24 14:26:36.819 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:26:36.823 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.825 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.826 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.827 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.828 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.829 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:26:36.834 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:26:36.838 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.840 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:26:36.841 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.842 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.852 +01:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-06-24 14:26:36.862 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:26:36.867 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.868 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.869 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:36.870 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.871 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.872 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-06-24 14:26:36.876 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2023-06-24 14:26:36.878 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.880 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.881 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.882 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.887 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.888 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.890 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:26:36.891 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.892 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.893 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:26:36.897 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-06-24 14:26:36.899 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.900 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.901 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.902 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.914 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.917 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.918 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.919 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.920 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.921 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.922 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:26:36.930 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-06-24 14:26:36.934 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.935 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 2ms reading results.
2023-06-24 14:26:36.937 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.938 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.940 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:36.941 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:36.942 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:36.945 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.946 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.947 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:26:36.952 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:26:36.955 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:36.957 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 1ms reading results.
2023-06-24 14:26:36.959 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.960 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:36.965 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:36.967 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.968 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:36.969 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:36.983 +01:00 [DBG] Executing 2 update commands as a batch.
2023-06-24 14:26:36.986 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.987 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:36.990 +01:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-06-24 14:26:36.996 +01:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-06-24 14:26:36.999 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:37.000 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-06-24 14:26:37.002 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:37.003 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [IsActive] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2023-06-24 14:26:37.016 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [IsActive] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
2023-06-24 14:26:37.024 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:37.026 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 4ms reading results.
2023-06-24 14:26:37.030 +01:00 [DBG] Committing transaction.
2023-06-24 14:26:37.034 +01:00 [DBG] Committed transaction.
2023-06-24 14:26:37.039 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:37.040 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:37.043 +01:00 [DBG] Disposing transaction.
2023-06-24 14:26:37.044 +01:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:37.046 +01:00 [DBG] An entity of type 'User' tracked by 'LeadManagerDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:37.047 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 2 entities written to the database.
2023-06-24 14:26:37.049 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:37.050 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:37.051 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:37.052 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 0 entities written to the database.
2023-06-24 14:26:37.056 +01:00 [DBG] Hosting starting
2023-06-24 14:26:37.066 +01:00 [INF] User profile is available. Using 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-24 14:26:37.074 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-0ab67fba-b2a8-4a49-bb45-f6301329f8a6.xml'.
2023-06-24 14:26:37.079 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-566a1830-4c02-4feb-b47e-cd983ddb58ec.xml'.
2023-06-24 14:26:37.081 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-68d7b5e6-474a-475f-9c5e-5b01cdc5d785.xml'.
2023-06-24 14:26:37.082 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-6d7a1708-86b1-498a-a204-b3d7f14e23c9.xml'.
2023-06-24 14:26:37.084 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-a18f0a53-40a2-4359-b5c6-357e7054b5da.xml'.
2023-06-24 14:26:37.085 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e66d40f7-11ec-4d3d-83cf-20322c5558ca.xml'.
2023-06-24 14:26:37.086 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e77340ef-0686-4d9d-8989-5f4290804443.xml'.
2023-06-24 14:26:37.087 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-f886f59b-0f0f-4c22-8697-a9c3be207b84.xml'.
2023-06-24 14:26:37.093 +01:00 [DBG] Found key {0ab67fba-b2a8-4a49-bb45-f6301329f8a6}.
2023-06-24 14:26:37.098 +01:00 [DBG] Found key {566a1830-4c02-4feb-b47e-cd983ddb58ec}.
2023-06-24 14:26:37.100 +01:00 [DBG] Found key {68d7b5e6-474a-475f-9c5e-5b01cdc5d785}.
2023-06-24 14:26:37.101 +01:00 [DBG] Found key {6d7a1708-86b1-498a-a204-b3d7f14e23c9}.
2023-06-24 14:26:37.102 +01:00 [DBG] Found key {a18f0a53-40a2-4359-b5c6-357e7054b5da}.
2023-06-24 14:26:37.103 +01:00 [DBG] Found key {e66d40f7-11ec-4d3d-83cf-20322c5558ca}.
2023-06-24 14:26:37.104 +01:00 [DBG] Found key {e77340ef-0686-4d9d-8989-5f4290804443}.
2023-06-24 14:26:37.105 +01:00 [DBG] Found key {f886f59b-0f0f-4c22-8697-a9c3be207b84}.
2023-06-24 14:26:37.116 +01:00 [DBG] Considering key {f886f59b-0f0f-4c22-8697-a9c3be207b84} with expiration date 2023-07-22 12:25:16Z as default key.
2023-06-24 14:26:37.120 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:26:37.121 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-06-24 14:26:37.123 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:26:37.126 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-06-24 14:26:37.127 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-06-24 14:26:37.129 +01:00 [DBG] Using key {f886f59b-0f0f-4c22-8697-a9c3be207b84} as the default key.
2023-06-24 14:26:37.131 +01:00 [DBG] Key ring with default key {f886f59b-0f0f-4c22-8697-a9c3be207b84} was loaded during application startup.
2023-06-24 14:26:37.229 +01:00 [INF] Now listening on: https://localhost:7043
2023-06-24 14:26:37.231 +01:00 [INF] Now listening on: http://localhost:5043
2023-06-24 14:26:37.233 +01:00 [DBG] Loaded hosting startup assembly LeadManager.API
2023-06-24 14:26:37.234 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-24 14:26:37.235 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-24 14:26:37.237 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-24 14:26:37.238 +01:00 [INF] Hosting environment: Development
2023-06-24 14:26:37.239 +01:00 [INF] Content root path: E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API
2023-06-24 14:26:37.240 +01:00 [DBG] Hosting started
2023-06-24 14:26:37.246 +01:00 [DBG] Connection id "0HMRKMQHHOH94" received FIN.
2023-06-24 14:26:37.257 +01:00 [DBG] Connection id "0HMRKMQHHOH94" accepted.
2023-06-24 14:26:37.259 +01:00 [DBG] Connection id "0HMRKMQHHOH94" started.
2023-06-24 14:26:37.277 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:26:37.312 +01:00 [DBG] Connection id "0HMRKMQHHOH94" stopped.
2023-06-24 14:26:37.316 +01:00 [DBG] Connection id "0HMRKMQHHOH94" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:26:37.503 +01:00 [DBG] Connection id "0HMRKMQHHOH95" accepted.
2023-06-24 14:26:37.504 +01:00 [DBG] Connection id "0HMRKMQHHOH95" started.
2023-06-24 14:26:37.673 +01:00 [DBG] Connection 0HMRKMQHHOH95 established using the following protocol: "Tls12"
2023-06-24 14:26:37.897 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/index.html - -
2023-06-24 14:26:37.925 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-24 14:26:37.936 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:26:38.145 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-24 14:26:38.174 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-24 14:26:38.180 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/index.html - - - 200 - text/html;charset=utf-8 288.4827ms
2023-06-24 14:26:38.195 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - -
2023-06-24 14:26:38.199 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_vs/browserLink - -
2023-06-24 14:26:38.213 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 17.1188ms
2023-06-24 14:26:38.276 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.5005ms
2023-06-24 14:26:38.368 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - -
2023-06-24 14:26:38.371 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:26:38.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 232.0414ms
2023-06-24 14:26:42.634 +01:00 [DBG] Connection id "0HMRKMQHHOH96" accepted.
2023-06-24 14:26:42.634 +01:00 [DBG] Connection id "0HMRKMQHHOH96" received FIN.
2023-06-24 14:26:42.635 +01:00 [DBG] Connection id "0HMRKMQHHOH96" started.
2023-06-24 14:26:42.636 +01:00 [DBG] Connection id "0HMRKMQHHOH97" accepted.
2023-06-24 14:26:42.644 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:26:42.645 +01:00 [DBG] Connection id "0HMRKMQHHOH97" started.
2023-06-24 14:26:42.647 +01:00 [DBG] Connection id "0HMRKMQHHOH96" stopped.
2023-06-24 14:26:42.649 +01:00 [DBG] Connection id "0HMRKMQHHOH96" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:26:42.653 +01:00 [DBG] Connection 0HMRKMQHHOH97 established using the following protocol: "Tls12"
2023-06-24 14:26:42.665 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-24 14:26:42.668 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:26:42.673 +01:00 [DBG] POST requests are not supported
2023-06-24 14:26:42.702 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:26:42.704 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:26:42.707 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:26:42.712 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:26:42.732 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:26:42.737 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:26:42.739 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:26:42.740 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:26:42.742 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:26:42.743 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:26:42.746 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:26:42.941 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:26:42.947 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:26:42.950 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-24 14:26:42.953 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:26:42.956 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:26:42.962 +01:00 [DBG] Connection id "0HMRKMQHHOH97", Request id "0HMRKMQHHOH97:00000001": started reading request body.
2023-06-24 14:26:42.964 +01:00 [DBG] Connection id "0HMRKMQHHOH97", Request id "0HMRKMQHHOH97:00000001": done reading request body.
2023-06-24 14:26:43.041 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:26:43.043 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:26:43.044 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:26:43.055 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:26:45.179 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:26:45.195 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:45.219 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:45.221 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:45.223 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:26:45.229 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:26:45.237 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:26:45.239 +01:00 [DBG] Created DbConnection. (2ms).
2023-06-24 14:26:45.240 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:45.241 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:45.243 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:26:45.244 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:26:45.245 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:26:45.247 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name], [SourceRef])
OUTPUT INSERTED.[SourceId]
VALUES (@p0, @p1, @p2);
2023-06-24 14:26:45.254 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name], [SourceRef])
OUTPUT INSERTED.[SourceId]
VALUES (@p0, @p1, @p2);
2023-06-24 14:26:45.267 +01:00 [DBG] The foreign key property 'Source.SourceId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-24 14:26:45.276 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:26:45.278 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 20ms reading results.
2023-06-24 14:26:45.280 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:45.281 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:26:45.285 +01:00 [DBG] An entity of type 'Source' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:26:45.288 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:26:45.298 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:26:45.304 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:26:45.306 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:26:45.306 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:26:45.308 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:26:45.311 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'LeadManager.Core.ViewModels.SourceDto'.
2023-06-24 14:26:45.333 +01:00 [DBG] Found the endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] for address GetSource(id=[1])
2023-06-24 14:26:45.342 +01:00 [DBG] Successfully processed template api/sources/{id} for LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) resulting in /api/sources/1 and 
2023-06-24 14:26:45.346 +01:00 [DBG] Link generation succeeded for endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] with result /api/sources/1
2023-06-24 14:26:45.390 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 2641.93ms
2023-06-24 14:26:45.393 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:26:45.394 +01:00 [DBG] Connection id "0HMRKMQHHOH97" completed keep alive response.
2023-06-24 14:26:45.397 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:26:45.401 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:26:45.405 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-06-24 14:26:45.407 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 201 168 application/json;+charset=utf-8 2742.2409ms
2023-06-24 14:34:22.938 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-24 14:34:23.113 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-24 14:34:23.559 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-06-24 14:34:23.562 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-06-24 14:34:23.879 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:34:23.889 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:34:23.941 +01:00 [DBG] Created DbConnection. (48ms).
2023-06-24 14:34:23.946 +01:00 [DBG] Migrating using database 'LeadManager' on server '.'.
2023-06-24 14:34:23.957 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.225 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.234 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:34:24.242 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-06-24 14:34:24.245 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2023-06-24 14:34:24.252 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:34:24.289 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:34:24.296 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.306 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (6ms).
2023-06-24 14:34:24.313 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:34:24.315 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:34:24.316 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-06-24 14:34:24.317 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.320 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.322 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:34:24.347 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:34:24.350 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.351 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.355 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.356 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.357 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:34:24.359 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:34:24.360 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-06-24 14:34:24.361 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:34:24.364 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:34:24.367 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.368 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.369 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:34:24.370 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:34:24.371 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:34:24.372 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.374 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.375 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:34:24.377 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-06-24 14:34:24.379 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.380 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.397 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:34:24.399 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:34:24.400 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:34:24.401 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.402 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.404 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:34:24.409 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-06-24 14:34:24.418 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:34:24.422 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 9ms reading results.
2023-06-24 14:34:24.423 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.425 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.435 +01:00 [INF] No migrations were applied. The database is already up to date.
2023-06-24 14:34:24.444 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.447 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.449 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-06-24 14:34:24.450 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-06-24 14:34:24.451 +01:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-06-24 14:34:24.454 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:34:24.458 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-24 14:34:24.461 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.462 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.465 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-06-24 14:34:24.466 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-06-24 14:34:24.467 +01:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-06-24 14:34:24.469 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.470 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.472 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:34:24.488 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-24 14:34:24.491 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.492 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.594 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-06-24 14:34:24.762 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string) Required, 5], [Property: User.IsActive (bool) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.IsActive, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LeadManager.Infrastructure.Data.LeadManagerDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-24 14:34:24.798 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:34:24.800 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:34:24.805 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-06-24 14:34:24.807 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.809 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.813 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:34:24.839 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IsActive], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-06-24 14:34:24.883 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:34:24.926 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:34:24.930 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 87ms reading results.
2023-06-24 14:34:24.932 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:24.933 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:24.938 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:34:24.941 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:34:24.962 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:34:24.969 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 0 entities written to the database.
2023-06-24 14:34:24.973 +01:00 [DBG] Hosting starting
2023-06-24 14:34:24.983 +01:00 [INF] User profile is available. Using 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-24 14:34:24.990 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-0ab67fba-b2a8-4a49-bb45-f6301329f8a6.xml'.
2023-06-24 14:34:24.995 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-566a1830-4c02-4feb-b47e-cd983ddb58ec.xml'.
2023-06-24 14:34:24.997 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-68d7b5e6-474a-475f-9c5e-5b01cdc5d785.xml'.
2023-06-24 14:34:24.998 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-6d7a1708-86b1-498a-a204-b3d7f14e23c9.xml'.
2023-06-24 14:34:25.000 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-a18f0a53-40a2-4359-b5c6-357e7054b5da.xml'.
2023-06-24 14:34:25.001 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e66d40f7-11ec-4d3d-83cf-20322c5558ca.xml'.
2023-06-24 14:34:25.002 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-e77340ef-0686-4d9d-8989-5f4290804443.xml'.
2023-06-24 14:34:25.003 +01:00 [DBG] Reading data from file 'C:\Users\customer\AppData\Local\ASP.NET\DataProtection-Keys\key-f886f59b-0f0f-4c22-8697-a9c3be207b84.xml'.
2023-06-24 14:34:25.009 +01:00 [DBG] Found key {0ab67fba-b2a8-4a49-bb45-f6301329f8a6}.
2023-06-24 14:34:25.015 +01:00 [DBG] Found key {566a1830-4c02-4feb-b47e-cd983ddb58ec}.
2023-06-24 14:34:25.016 +01:00 [DBG] Found key {68d7b5e6-474a-475f-9c5e-5b01cdc5d785}.
2023-06-24 14:34:25.017 +01:00 [DBG] Found key {6d7a1708-86b1-498a-a204-b3d7f14e23c9}.
2023-06-24 14:34:25.018 +01:00 [DBG] Found key {a18f0a53-40a2-4359-b5c6-357e7054b5da}.
2023-06-24 14:34:25.019 +01:00 [DBG] Found key {e66d40f7-11ec-4d3d-83cf-20322c5558ca}.
2023-06-24 14:34:25.020 +01:00 [DBG] Found key {e77340ef-0686-4d9d-8989-5f4290804443}.
2023-06-24 14:34:25.022 +01:00 [DBG] Found key {f886f59b-0f0f-4c22-8697-a9c3be207b84}.
2023-06-24 14:34:25.031 +01:00 [DBG] Considering key {f886f59b-0f0f-4c22-8697-a9c3be207b84} with expiration date 2023-07-22 12:25:16Z as default key.
2023-06-24 14:34:25.035 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:34:25.039 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-06-24 14:34:25.041 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-06-24 14:34:25.044 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-06-24 14:34:25.045 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-06-24 14:34:25.047 +01:00 [DBG] Using key {f886f59b-0f0f-4c22-8697-a9c3be207b84} as the default key.
2023-06-24 14:34:25.049 +01:00 [DBG] Key ring with default key {f886f59b-0f0f-4c22-8697-a9c3be207b84} was loaded during application startup.
2023-06-24 14:34:25.154 +01:00 [INF] Now listening on: https://localhost:7043
2023-06-24 14:34:25.159 +01:00 [INF] Now listening on: http://localhost:5043
2023-06-24 14:34:25.160 +01:00 [DBG] Loaded hosting startup assembly LeadManager.API
2023-06-24 14:34:25.161 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-24 14:34:25.162 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-24 14:34:25.164 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-24 14:34:25.164 +01:00 [INF] Hosting environment: Development
2023-06-24 14:34:25.165 +01:00 [INF] Content root path: E:\Projects\LeadManagementSystem v1.0\LeadManager\LeadManager.API
2023-06-24 14:34:25.166 +01:00 [DBG] Hosting started
2023-06-24 14:34:25.498 +01:00 [DBG] Connection id "0HMRKMUT3BBVV" accepted.
2023-06-24 14:34:25.514 +01:00 [DBG] Connection id "0HMRKMUT3BBVV" started.
2023-06-24 14:34:25.525 +01:00 [DBG] Connection id "0HMRKMUT3BBVV" received FIN.
2023-06-24 14:34:25.569 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:34:25.625 +01:00 [DBG] Connection id "0HMRKMUT3BBVV" stopped.
2023-06-24 14:34:25.631 +01:00 [DBG] Connection id "0HMRKMUT3BBVV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:34:25.866 +01:00 [DBG] Connection id "0HMRKMUT3BC00" accepted.
2023-06-24 14:34:25.868 +01:00 [DBG] Connection id "0HMRKMUT3BC00" started.
2023-06-24 14:34:26.092 +01:00 [DBG] Connection 0HMRKMUT3BC00 established using the following protocol: "Tls12"
2023-06-24 14:34:26.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/index.html - -
2023-06-24 14:34:26.344 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-24 14:34:26.358 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:34:26.572 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-06-24 14:34:26.604 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-06-24 14:34:26.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/index.html - - - 200 - text/html;charset=utf-8 317.4842ms
2023-06-24 14:34:26.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - -
2023-06-24 14:34:26.634 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/_vs/browserLink - -
2023-06-24 14:34:26.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 21.3097ms
2023-06-24 14:34:26.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.9658ms
2023-06-24 14:34:26.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - -
2023-06-24 14:34:26.803 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:34:27.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 213.2934ms
2023-06-24 14:34:42.008 +01:00 [DBG] Connection id "0HMRKMUT3BC01" accepted.
2023-06-24 14:34:42.008 +01:00 [DBG] Connection id "0HMRKMUT3BC01" received FIN.
2023-06-24 14:34:42.009 +01:00 [DBG] Connection id "0HMRKMUT3BC01" started.
2023-06-24 14:34:42.010 +01:00 [DBG] Connection id "0HMRKMUT3BC02" accepted.
2023-06-24 14:34:42.012 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-24 14:34:42.014 +01:00 [DBG] Connection id "0HMRKMUT3BC02" started.
2023-06-24 14:34:42.017 +01:00 [DBG] Connection id "0HMRKMUT3BC01" stopped.
2023-06-24 14:34:42.019 +01:00 [DBG] Connection id "0HMRKMUT3BC01" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-24 14:34:42.023 +01:00 [DBG] Connection 0HMRKMUT3BC02 established using the following protocol: "Tls12"
2023-06-24 14:34:42.035 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7043/api/sources - -
2023-06-24 14:34:42.038 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:34:42.041 +01:00 [DBG] The request path  does not match the path filter
2023-06-24 14:34:42.070 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:34:42.072 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:34:42.073 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:34:42.077 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:34:42.090 +01:00 [INF] Route matched with {action = "GetSources", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LeadManager.Core.ViewModels.SourceDto]]] GetSources() on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:34:42.095 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:34:42.096 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:34:42.098 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:34:42.100 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:34:42.102 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:34:42.104 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:34:42.282 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:34:42.304 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:34:42.309 +01:00 [DBG] Compiling query expression: 
'DbSet<Source>()'
2023-06-24 14:34:42.316 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Source>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Source.SourceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Source.Description (string) MaxLength(200), 1], [Property: Source.Name (string) Required MaxLength(50), 2], [Property: Source.SourceRef (Guid) Required, 3] }
        SELECT s.SourceId, s.Description, s.Name, s.SourceRef
        FROM Sources AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Source>, 
    LeadManager.Infrastructure.Data.LeadManagerDbContext, 
    False, 
    False, 
    True
)'
2023-06-24 14:34:42.320 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:34:42.321 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:34:42.322 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:34:42.323 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:34:42.324 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-06-24 14:34:42.325 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:42.326 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:42.327 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SourceId], [s].[Description], [s].[Name], [s].[SourceRef]
FROM [Sources] AS [s]
2023-06-24 14:34:42.331 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SourceId], [s].[Description], [s].[Name], [s].[SourceRef]
FROM [Sources] AS [s]
2023-06-24 14:34:42.351 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:34:42.361 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:34:42.363 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 29ms reading results.
2023-06-24 14:34:42.364 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:42.366 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:34:42.388 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:34:42.393 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:34:42.394 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:34:42.395 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:34:42.397 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:34:42.399 +01:00 [INF] Executing OkObjectResult, writing value of type 'LeadManager.Core.ViewModels.SourceDto[]'.
2023-06-24 14:34:42.504 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) in 396.6742ms
2023-06-24 14:34:42.508 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:34:42.510 +01:00 [DBG] Connection id "0HMRKMUT3BC02" completed keep alive response.
2023-06-24 14:34:42.513 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:34:42.519 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:34:42.522 +01:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-06-24 14:34:42.525 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7043/api/sources - - - 200 170 application/json;+charset=utf-8 490.2460ms
2023-06-24 14:35:02.348 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7043/api/sources application/json 124
2023-06-24 14:35:02.350 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:35:02.351 +01:00 [DBG] POST requests are not supported
2023-06-24 14:35:02.354 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:35:02.355 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:35:02.357 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:35:02.358 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:35:02.368 +01:00 [INF] Route matched with {action = "CreateSource", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LeadManager.Core.ViewModels.SourceDto]] CreateSource(LeadManager.Core.ViewModels.SourceForCreateDto) on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:35:02.371 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:35:02.372 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:35:02.374 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:35:02.375 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:35:02.376 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:35:02.378 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:35:02.379 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:35:02.385 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:35:02.389 +01:00 [DBG] Attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' using the name '' in request data ...
2023-06-24 14:35:02.391 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-06-24 14:35:02.393 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-06-24 14:35:02.398 +01:00 [DBG] Connection id "0HMRKMUT3BC02", Request id "0HMRKMUT3BC02:00000002": started reading request body.
2023-06-24 14:35:02.401 +01:00 [DBG] Connection id "0HMRKMUT3BC02", Request id "0HMRKMUT3BC02:00000002": done reading request body.
2023-06-24 14:35:02.427 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:35:02.429 +01:00 [DBG] Done attempting to bind parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:35:02.430 +01:00 [DBG] Attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto' ...
2023-06-24 14:35:02.442 +01:00 [DBG] Done attempting to validate the bound parameter 'sourceDto' of type 'LeadManager.Core.ViewModels.SourceForCreateDto'.
2023-06-24 14:35:03.965 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:35:03.986 +01:00 [DBG] 'LeadManagerDbContext' generated a temporary value for the property 'SourceId.Source'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:35:03.997 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:35:04.000 +01:00 [DBG] SaveChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:35:04.003 +01:00 [DBG] DetectChanges starting for 'LeadManagerDbContext'.
2023-06-24 14:35:04.008 +01:00 [DBG] DetectChanges completed for 'LeadManagerDbContext'.
2023-06-24 14:35:04.069 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:35:04.071 +01:00 [DBG] Created DbConnection. (1ms).
2023-06-24 14:35:04.073 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:04.074 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:04.078 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:35:04.079 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-24 14:35:04.081 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:35:04.083 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name], [SourceRef])
OUTPUT INSERTED.[SourceId]
VALUES (@p0, @p1, @p2);
2023-06-24 14:35:04.089 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Sources] ([Description], [Name], [SourceRef])
OUTPUT INSERTED.[SourceId]
VALUES (@p0, @p1, @p2);
2023-06-24 14:35:04.105 +01:00 [DBG] The foreign key property 'Source.SourceId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-06-24 14:35:04.112 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:35:04.114 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 21ms reading results.
2023-06-24 14:35:04.117 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:04.118 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (1ms).
2023-06-24 14:35:04.131 +01:00 [DBG] An entity of type 'Source' tracked by 'LeadManagerDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:35:04.136 +01:00 [DBG] SaveChanges completed for 'LeadManagerDbContext' with 1 entities written to the database.
2023-06-24 14:35:04.140 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:35:04.144 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:35:04.145 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:35:04.146 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:35:04.147 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:35:04.148 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'LeadManager.Core.ViewModels.SourceDto'.
2023-06-24 14:35:04.166 +01:00 [DBG] Found the endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] for address GetSource(id=[2])
2023-06-24 14:35:04.176 +01:00 [DBG] Successfully processed template api/sources/{id} for LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) resulting in /api/sources/2 and 
2023-06-24 14:35:04.179 +01:00 [DBG] Link generation succeeded for endpoints ["LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)"] with result /api/sources/2
2023-06-24 14:35:04.181 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API) in 1803.2563ms
2023-06-24 14:35:04.184 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.CreateSource (LeadManager.API)'
2023-06-24 14:35:04.185 +01:00 [DBG] Connection id "0HMRKMUT3BC02" completed keep alive response.
2023-06-24 14:35:04.186 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:35:04.187 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:04.188 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:35:04.190 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7043/api/sources application/json 124 - 201 168 application/json;+charset=utf-8 1841.4666ms
2023-06-24 14:35:09.978 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7043/api/sources - -
2023-06-24 14:35:09.979 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-06-24 14:35:09.980 +01:00 [DBG] The request path  does not match the path filter
2023-06-24 14:35:09.981 +01:00 [DBG] 1 candidate(s) found for the request path '/api/sources'
2023-06-24 14:35:09.982 +01:00 [DBG] Endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)' with route pattern 'api/sources' is valid for the request path '/api/sources'
2023-06-24 14:35:09.984 +01:00 [DBG] Request matched endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:35:09.985 +01:00 [INF] Executing endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:35:09.986 +01:00 [INF] Route matched with {action = "GetSources", controller = "Sources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LeadManager.Core.ViewModels.SourceDto]]] GetSources() on controller LeadManager.API.Controllers.SourcesController (LeadManager.API).
2023-06-24 14:35:09.988 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-24 14:35:09.989 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-24 14:35:09.990 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-24 14:35:09.992 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-24 14:35:09.993 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-24 14:35:09.994 +01:00 [DBG] Executing controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:35:09.999 +01:00 [DBG] Executed controller factory for controller LeadManager.API.Controllers.SourcesController (LeadManager.API)
2023-06-24 14:35:10.001 +01:00 [DBG] Entity Framework Core 7.0.1 initialized 'LeadManagerDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.1' with options: None
2023-06-24 14:35:10.004 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-24 14:35:10.005 +01:00 [DBG] Creating DbConnection.
2023-06-24 14:35:10.006 +01:00 [DBG] Created DbConnection. (0ms).
2023-06-24 14:35:10.006 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-06-24 14:35:10.007 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-06-24 14:35:10.008 +01:00 [DBG] Opening connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:10.010 +01:00 [DBG] Opened connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:10.010 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SourceId], [s].[Description], [s].[Name], [s].[SourceRef]
FROM [Sources] AS [s]
2023-06-24 14:35:10.014 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SourceId], [s].[Description], [s].[Name], [s].[SourceRef]
FROM [Sources] AS [s]
2023-06-24 14:35:10.017 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:35:10.018 +01:00 [DBG] Context 'LeadManagerDbContext' started tracking 'Source' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-24 14:35:10.019 +01:00 [DBG] Closing data reader to 'LeadManager' on server '.'.
2023-06-24 14:35:10.020 +01:00 [DBG] A data reader for 'LeadManager' on server '.' is being disposed after spending 3ms reading results.
2023-06-24 14:35:10.021 +01:00 [DBG] Closing connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:10.022 +01:00 [DBG] Closed connection to database 'LeadManager' on server '.' (0ms).
2023-06-24 14:35:10.024 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-24 14:35:10.026 +01:00 [DBG] No information found on request to perform content negotiation.
2023-06-24 14:35:10.027 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-24 14:35:10.028 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-24 14:35:10.029 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-24 14:35:10.030 +01:00 [INF] Executing OkObjectResult, writing value of type 'LeadManager.Core.ViewModels.SourceDto[]'.
2023-06-24 14:35:10.031 +01:00 [INF] Executed action LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API) in 36.7613ms
2023-06-24 14:35:10.034 +01:00 [INF] Executed endpoint 'LeadManager.API.Controllers.SourcesController.GetSources (LeadManager.API)'
2023-06-24 14:35:10.035 +01:00 [DBG] Connection id "0HMRKMUT3BC02" completed keep alive response.
2023-06-24 14:35:10.036 +01:00 [DBG] 'LeadManagerDbContext' disposed.
2023-06-24 14:35:10.037 +01:00 [DBG] Disposing connection to database 'LeadManager' on server '.'.
2023-06-24 14:35:10.038 +01:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-06-24 14:35:10.040 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7043/api/sources - - - 200 339 application/json;+charset=utf-8 61.6586ms
